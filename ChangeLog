commit c30450ec007912f905aa22e998e6b1d722e73dde
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 23 20:26:33 2012 -0700

    emerge.1: --depclean-lib-check disabled default

commit b6041cb2e7e7e6645f0b179b34f16e87ce3c28e9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 3 05:28:16 2011 -0700

    Remove extended package set configuration docs.

    Extended package sets configuration is disabled in the stable branch.

commit 0d1f194af3721a90b5890a7cba7e7ea712c191f3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 15:03:12 2012 -0700

    portage.const: toggle constants for stable branch

commit 4126fcfb04efcedaf857b0f6977effb82c24e1cb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 26 10:45:54 2012 -0700

    emerge --info: show linker version, bug #436294

commit 94cfbc7023f89905f03e9f87563133fa2530c30e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 26 10:24:37 2012 -0700

    test_slot_conflict_rebuild: add a valid rebuild

commit 3fcf296fdda7fa3f7c36d4d4c3ab55156fcd70fa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 26 10:13:16 2012 -0700

    depgraph: use _match_slot in multislot match

    This amkes sub-slot matching work correctly.

commit 222dfa56e8fb311f4bea54012bdfd5d1a474d56c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 26 00:43:20 2012 -0700

    backtracking: discard extra rebuilds, bug #439688

commit 287636c98ca6841601372d32fb7c66ffdad9eaae
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 23:31:36 2012 -0700

    Add test case for bug #439688.

commit cbe52a133e4480cefd22ca51dd0c133c09eb93f4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 23:06:17 2012 -0700

    depgraph: trigger rebuild for unbuilt child

    This will fix bug #439694, where built slot-operator deps failed to
    trigger rebuilds if the deps were initially broken.

commit 57604eaf869b544aac9e8ed2e270dcc6be3cf739
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 21:57:01 2012 -0700

    depgraph: no multislot tweak for built slot op

    The multislot tweak from bug #220341 (see commit
    65a421ae35acd5639ad1258e220754a85e55de6e) triggered erroneous matches
    for built slot-operator deps, causing the depgraph to treat unsatisfied
    built slot-operator deps as if they were satisfied (one of the issues
    uncovered in bug #439694).

commit 9fead7ac9b4d819bdbe4321c78e325dced7c51a8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 20:44:28 2012 -0700

    Add test case for bug #439694.

commit 690312722e111cf813b591dd4dccb4400f5f7f79
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 12:48:56 2012 -0700

    merge-sync: handle unmerge corner cases

    In dblink_merged_path we need to distinguish between existing and
    non-existing, since we need an existing path of syncfs.

commit 3f2451c0901ee75e3e4e0f11628a0a3a981eff88
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 08:31:16 2012 -0700

    merge-sync: syncfs on parent of dir for unmerge

    Note that we use a realpath and a regular stat here, since we want
    to follow any symlinks back to the real device where the real parent
    directory resides.

commit fa83d9cbe167f5fb54052f544cad4ddd7a264843
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 02:32:35 2012 -0700

    MergeProcess: cache syncfs libc library lookup

commit 10b6d0129d062f4d5d8a7611023c3f8cc43f1eab
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 01:35:31 2012 -0700

    Add FEATURES=merge-sync, for bug #439584.

commit 978f3c6d514f0fcf9329d536cc43cf1230e23112
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 25 01:34:37 2012 -0700

    Add portage.util._ctypes module, for bug #439584.

commit e440548da95775019dc89bb612f8049240eed4e9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 24 23:59:31 2012 -0700

    dblink: add hooks to sync disk for bug #439584

commit f48625c547398ee5f92d33e16b1a837c3c595ae9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 24 20:21:41 2012 -0700

    Use checkbashisms for init.d scripts, bug #439490

commit 5ebd980500d788ec6adfe2d004d22f954e5ab54d
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed Oct 24 23:00:20 2012 +0200

    install_symlink_html_docs(): Additional fix for compatibility with
    subslots.

commit 38e7acf72306b7dc91c311afd64f4cc2cdf5af6a
Author: Gregory M. Turner <gmturner007@ameritech.net>
Date:   Mon Oct 22 19:35:12 2012 -0700

    .gitignore: ignore tags file (for ctags)

    Signed-off-by: Gregory M. Turner <gmturner007@ameritech.net>

commit 193fe4ed1c7f1070486c244abdf3a487fc85fe83
Author: Brian Dolbec <dolsen@gentoo.org>
Date:   Sun Oct 21 11:21:34 2012 -0700

    emaint logs --help: fix module-options typo

commit 19c9cc88c3a3569e57eac5b846340141a42e991e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 18 19:18:14 2012 -0700

    Test PopenProcess + PipeLogger.

commit 2d2cb6ee98324b478a5671df2178f91104bcbd12
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 18 18:27:59 2012 -0700

    PipeReader: unregister in _cancel

commit 14f4235b940700f9d6470a216d6fe3dce37ea148
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 18 18:23:02 2012 -0700

    PipeLogger/Reader: remove redundant isAlive()

    Parent class AbstractPollTask has equivalent implementation.

commit 5a7690fd10a6935e756495590c9c2b6a19aa8139
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 18 18:15:00 2012 -0700

    SpawnProcess: split out a PipeLogger class

    The copyright dates for these classes begin in 2008, since SpawnProcess
    code is derived from the EbuildFetcherAsync class which was added in
    commit e4edadf5ae7063f375d76be151c6d0e949980ecf in 2008.

commit c34b00b7b402b199cc6b7db1a7d1d4547ef3b413
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 23:37:20 2012 -0700

    ManifestTask: use null stdin when checking sig

commit 25bf5ebc00fa1c79e6f764a58802cd70a16967bf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 22:57:09 2012 -0700

    Handle InvalidData from _pkg_str.

commit d159be545ecb431addc3e7bb31a8ed8cfd9984af
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 22:34:17 2012 -0700

    Remove old binhost protocol for bug #438640.

    The old protocol has been deprecated since portage-2.1.6 (2009), so it
    should be completely irrelevant now.

commit 27dbcfdd5cd285c8b40808ff0f791b25b6f1f3cd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 21:58:08 2012 -0700

    config.setcpv: use constructed _pkg_str for mycpv

commit 3c8d69c6942fd8e39417d5e16c4c0cdf2465596e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 21:18:56 2012 -0700

    emaint: sync MoveHandler check code with dbapi's

commit 8ee446c9b6eda0940a93b4ce2f2ec92a652f591d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 21:06:00 2012 -0700

    emaint: fix MoveHandler for EAPI 5 sub-slot

commit 5c48158a4af685e64d05a29fb54f43974c93ff3f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 20:43:17 2012 -0700

    doebuild: fix REPLACING_VERSIONS EAPI 5 sub-slot

commit 5608e26193249acf4d072f7658f88ea7e7222ae4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 20:32:20 2012 -0700

    bintree/portree: fix getslot for EAPI 5 sub-slot

commit bc63a48af0517b31872141aa06ed1a5f9b6b4f52
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 20:12:33 2012 -0700

    SecuritySet: fix for EAPI 5 sub-slot in SLOT

commit 19b88931cb438d058b60f2e56928839d12e22456
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 20:06:45 2012 -0700

    LibraryConsumerSet: fix for EAPI 5 sub-slot

commit eae98cf5e150d0c65ed2d7f55bf0f4d01b3dfdbb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 20:02:26 2012 -0700

    StaticFileSet: fix for EAPI 5 sub-slot in SLOT

commit d3b487536789d6331e7c85f839068be890b6112a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 19:51:52 2012 -0700

    _sets/dbapi: fix for EAPI 5 sub-slot in SLOT

commit ed703963796c5add0c04da01704398d6572f9c29
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 19:35:09 2012 -0700

    depgraph: fix for EAPI 5 sub-slot in SLOT

commit 4f5233d38e2a0f29cd6e9032116730579868a263
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 19:09:49 2012 -0700

    actions.py: use _pkg_str for EAPI 5 sub-slot

commit d25923e5770329b6b692ec2c05bb2dafaa4e7d4c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 18:59:40 2012 -0700

    repoman: fix KEYWORDS.dropped for EAPI 5 sub-slot

commit 9846cad27ac880271804e8065997024364b74906
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 18:56:18 2012 -0700

    getmaskingreason: use _pkg_str

commit 4ec3c49862c9b3cf0ccd7bd2d8112faf36bb04f0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 18:43:27 2012 -0700

    ManifestTask: stricter gpg key comparison

    Use normalization and == comparison instead of the "in" operator.

commit 4bd612e8521983f5b8ad939ba3ccf27fccb0d874
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 18:24:34 2012 -0700

    ManifestTask: use PopenProcess more

commit b0d85ce135496bb241d2d5714ac330710dfa0b72
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 18:23:11 2012 -0700

    PopenProcess: child_watch_add if no pipe_reader

commit 56d2d7554ecd8dcae3d42c0862d1c3bb1cc08186
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 18:02:50 2012 -0700

    MaskManager: use _pkg_str

commit 3cfbb2404247fcfd10d49ed4628b9e22249618c0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 17:50:34 2012 -0700

    config.setcpv: remove unused slot variable

commit 303741ace78498c28573216b8db5ac15c71e379f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 17:48:13 2012 -0700

    vartree.py: account for EAPI 5 sub-slot in SLOT

commit 8bf4b16ee1e3d5ecf58ce20f19563947bfa917d7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 17:11:37 2012 -0700

    create_world_atom: account for EAPI 5 sub-slot

commit 873deb19db6bdc1201b83f44f85da0d44962b98b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 17:04:53 2012 -0700

    glsa: account for EAPI 5 sub-slot in SLOT

commit 0e5e75ce80bbc9e4dd231c693861fc9b43f677c1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 17 15:57:38 2012 -0700

    glsa.py: use try/finally for urlopen

    Fixes this error reported with python 2.7.3:

    AttributeError: addinfourl instance has no attribute '__exit__'

commit 3f6ebaf5f56f2c31e3639ec16c8e21db0a734cc8
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Thu Oct 18 00:54:14 2012 +0200

    Make __source_all_bashrcs() and install_symlink_html_docs() compatible
    with subslots.

commit e72d8353f7a9493e0508c367e416423b52ea22ce
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Thu Oct 18 00:41:38 2012 +0200

    Make keepdir() compatible with subslots.

commit fdb856ae456a559fa74066704cd19858d317ed33
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 20:36:49 2012 -0700

    Scheduler: tweak job_delay calc for bug #438650

    * Max delay is reduced to 5 seconds (was 10).  * Calculated delay is now
    proportional to current/desired load ratio.  * When a delay is triggered,
    an event loop timeout is used to ensure
      that scheduling occurs as soon as the delay expires (rather than
      waiting for the _loadavg_latency timeout to expire).

commit 8a28c000ce225b79076e36f212162f58e01188b7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 19:01:35 2012 -0700

    ManifestTask: improve gpg key parsing

    This fixes it to correctly parse longer key IDs, which do not fit on
    the first line of gpg output. Without this fix, failure to parse the
    key results in manifest being re-signed even though they already have
    a signature with the correct key.

commit f1e4d32191ad46460043f1fa83ca447c657678e2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 16:31:48 2012 -0700

    Move portage.dep._internal_warnings to portage.

commit 43f3b93d4841ce638e73586a8d7b212f86f0c173
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 16:15:46 2012 -0700

    emerge: optimize --moo, remove deprecated moo

    The --moo action is fast like --help now. The "moo" argument has been
    deprecated since bug #389609, and is now removed.

commit 687000cd2512155bde70d71df65ba9b88673ae4b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 15:45:17 2012 -0700

    ManifestTask: remove unneeded _proc attribute

    It's enough to reference the PopenProcess instance as self._current_task
    while it's alive (CompositeTask._cancel() can kill it via this).

commit d9dbb33033fd779228054925ec4d51e535050f45
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 15:35:03 2012 -0700

    repoman: allow 40 digit gpg key

commit 95bbfee84072a380ae31202ccc320abc9a1c31a9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 15:16:22 2012 -0700

    emerge_main: use parse_opts for --help

commit d40c242a4c9a9b666fd8730734b149bce2dd7cd9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 14:46:44 2012 -0700

    repoman: validate PORTAGE_GPG_KEY

commit 1ace23869fd296b391f1ad4df1310ef0c1c2ec7c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 12:41:00 2012 -0700

    Test PopenProcess.

commit 6de6ecc0049160f049f889b81c128e682225c55b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 12:27:46 2012 -0700

    CompositeTask._start_task: propagate scheduler

commit 77320e7283d5cd89894798b2ec1bbbe546474483
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 11:56:13 2012 -0700

    Handle missing mkfifo for Jython.

commit a13c6739cab86f196fbc8a220f0d238c3544bae9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 10:31:34 2012 -0700

    PopenProcess: integrate PipeReader support

commit e9fd283aedf54e2effc73f4157524fe9a26993c0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 08:55:22 2012 -0700

    run_action: gc locals of calling func

commit 65e69242814553b826b9277495a5f62b79569269
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 16 01:33:54 2012 -0700

    emerge_main: split out run_action

    Also move post_emerge and chk_updated_cfg_files to separate files.

commit eeef84317758b01ae2c1ba8f343343179aebc01e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 15 23:51:35 2012 -0700

    Add missing PopenProcess class from last commit.

commit 84ea673c632dea0bc9af61c371f71ca86cc19e1a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 15 23:46:41 2012 -0700

    egencache --update-manifests: re-sign when needed

    If the Manifest is signed with a different key from the one specified by
    --gpg-key or PORTAGE_GPG_KEY, strip the existing signature and re-sign
    the Manifest.

commit 54e206ac6901b2f469638378e039d207f5024622
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Mon Oct 15 19:16:22 2012 +0200

    Add Display._append_repository() to avoid duplication of some code.

commit 158440e153b898159ca525016d46bb0a161c49e0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 15 08:42:04 2012 -0700

    emerge_main: move imports to top

commit 4eca58411a58fa52cb18f694a899d88e2d93d242
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 15 08:02:20 2012 -0700

    emerge_main: disable color earlier

    Since commit 2ca487f929962154488999a125a7387eeb44be88, --help has not
    respected --color=n and related options, since it's been optimized to
    bypass options and config parsing. Now it's fixed to show without colors
    in this optimized case (help with colors may be shown in some other cases,
    like when emerge is called with zero arguments).

commit 374ddd242394d510beea46013281de8d9ec50671
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Mon Oct 15 06:04:58 2012 +0200

    Display slots and subslots in output of `emerge -pv ${package}`.

commit 31aa12b5e72d8de7faa548bc498deb198f275cfd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 19:59:37 2012 -0700

    MergeListItem: don't color "binary"

commit b3e9be9d551588e646726adff7001ded44a130b3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 17:11:23 2012 -0700

    repoman: fix commit_footer NameError

commit 2ca487f929962154488999a125a7387eeb44be88
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 16:49:59 2012 -0700

    emerge: lazy imports, optimize --help

commit bf621eebc153cdadef6ef21af732691138a326e1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 15:57:12 2012 -0700

    chk_updated_info_files: move to separate file

commit ef591ebe40a027a0a54f455b92c1c78578d1d736
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 15:36:37 2012 -0700

    display_preserved_libs: move to separate file

commit 8a8eda21d80099e74f38f5456f542611238f44a1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 14:59:33 2012 -0700

    emerge: handle KeyboardInterrupt, not SIGINT

    We handle KeyboardInterrupt instead of installing a SIGINT handler, since
    exiting from signal handlers intermittently causes python to ignore the
    SystemExit exception with a message like this:

    Exception SystemExit: 130 in <function remove at 0x7fd2146c1320> ignored

commit 916bf3fb28bb5266258a3e375520e4fdc0e62121
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 14:38:16 2012 -0700

    emerge.1: broaden description of "r" merge attr

    This attribute actually applies to anything matched by the internal
    @__auto_* sets, which can mean a number of different things (see
    depgraph._gen_reinstall_sets).

commit 9a155334b90615d1d7f1579487286280317f5e5c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 13:31:46 2012 -0700

    repoman: initial caps for git commit msg footers

commit e3edc37982a4a0c89db5d4b28b58de77cea1bcf2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 13:16:21 2012 -0700

    repoman: special git commit footer, bug #438364

commit e7f0157b952a5eb9d77464d40b27748c226f580b
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Oct 14 22:00:19 2012 +0200

    Invert order of arguments in Display._set_non_root_columns() and
    Display._set_root_columns() for consistency with Display._set_no_columns().

commit 86385b9747e6cd4a23bd01eb7b8628fd3e158f76
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Oct 14 21:53:40 2012 +0200

    Display.set_pkg_info(): Set cp and ver attributes.

commit 30f3a3fb492bf956d928352037e12d948a8a7a35
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 12:48:35 2012 -0700

    repoman: identical Manifest commit message

    Include the signed/unsigned part it the initial commit message, so that
    it's identical to the Manifest commit message. See bug #437546, comment #3.

commit 8651a9e838e4028e74e115f26e263639c1835173
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 12:25:40 2012 -0700

    Revert "repoman: identical Manifest commit message"

    This reverts commit b91eefc82e995ba3463d212f95fa9228c5cf53ae.  See bug
    #437546, comment #3.

commit 6210ad8a7ecafcb8a616f28dc3447c219f0d134f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 14 12:20:56 2012 -0700

    match_from_list: rm redundant catpkgsplit(mycpv)

commit f3324a8779f331a6ac663244221c760f991aca07
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Oct 13 19:53:09 2012 -0700

    simplify Display.convert_myoldbest().

commit 6d6868206d5109fbbda9b716b597adb3440666bb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Oct 13 19:44:18 2012 -0700

    Simplify Display.get_ver_str().

commit b7b906fdf49a55621a12798ae21d603d9ca4eb76
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Oct 14 03:33:38 2012 +0200

    Bug #434970: Disable some warnings during `emerge --sync`.

commit 58c2ef4e37fa635945e19a1650e15206d457830b
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Oct 14 01:57:06 2012 +0200

    EAPI="5-progress": Add master_repositories(), repository_path(),
    available_eclasses(), eclass_path() and license_path() functions.

commit d39d032f2bc5359f95cd523ec39a9d3bb5fa77e4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Oct 13 13:06:05 2012 -0700

    MergeListItem: color binary display, bug #438254

commit 55ab494c406947d67ba7d54208b4cd5e981db579
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 10 20:07:01 2012 -0700

    Add QA_MULTILIB_PATHS for bug #437910.

commit 2d163053ee47a349b7e50c0907b89bcd91bef7d3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 10 14:12:40 2012 -0700

    PollScheduler: fix _schedule() to return True

    This fixes a regression like bug #403895, introduced in commit
    b696337bf20fdc539ce7721df7a4b42b35999705, since functions have to return
    True in order to be continuously scheduled.

commit 68288994493ee3ab56d0baf24ec3d0449330ccf5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 10 12:12:18 2012 -0700

    Atom: support *_beta* wildcard, bug #437872

commit 960792b9fd0e11b16efdc0b538231288b8727862
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 19:01:45 2012 -0700

    _parse_uri_map: preserve order of URIs

    Returns a dict of tuples instead of a dict of sets.

commit 3af5846c3c0c10b0cf80ca2e1921b9b7918bc277
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 15:07:34 2012 -0700

    fetch: preserve SRC_URI order for primaryuri

commit 91b253ba2f249b19d6cc68f51cd6b909a765a715
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 13:44:22 2012 -0700

    PollScheduler: disable default _loadavg_latency

    Move the 30 second default to the Scheduler class, since that's the only
    place that it's currently needed (all other schedulers have relatively
    short-running jobs).

commit 1ddda9a8db7b1e09a04220a8677b60015b2fe849
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 13:30:08 2012 -0700

    emerge: handle --load-average with no arg

    With no argument, removes a previous load limit (same behavior as make).

commit ae5d657a2c7e5fcf23607e8b061f049e56f8137f
Author: Tim Boudreau <niftiness@gmail.com>
Date:   Mon Oct 8 09:25:36 2012 -0700

    dyn_spec: s/Copyright/License/, bug #437588

    Fixes 'Unknown tag' error with rpm 4.10.0.

commit ad177e7083c89e259df95947f3de47be96dbbf56
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 09:07:08 2012 -0700

    Revert "test_ipc_daemon: handle fork/finally race"

    This reverts commit 56fbe3fe63adf4e7c5b47400182cd857d145d5b0.  The race
    is now handled internally by spawn and ForkProcess.

commit dd81d7cd798d223f559a4fb885f8cc52e2881c81
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 09:03:24 2012 -0700

    ForkProcess: set _exit finally block before fork

    This is the most reliable way to handle the race condition.

commit 8cab14fe47b3f2d31a193c200644c32c0d403ec7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 08:43:21 2012 -0700

    spawn: setup _exit finally block before fork

    This is the most reliable way to handle the race condition.

commit 56fbe3fe63adf4e7c5b47400182cd857d145d5b0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 08:08:51 2012 -0700

    test_ipc_daemon: handle fork/finally race

commit 84ce763b5d397dc836b7132c0961d8f2b1a2d1f1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 07:54:14 2012 -0700

    spawn: use finally block for failure os._exit()

    Also, use writemsg for unicode safety.

commit a0adfb21ec64da8013265adfb2ed9ffb18e6a2b4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 07:34:09 2012 -0700

    repoman: check EXTRA_ECONF/EMAKE, bug #437348

commit 202a55ef437e8d472f25a8013b5694efee855e78
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 07:17:20 2012 -0700

    repoman: simplify EbuildAssignment check

    The line continuation code is no longer needed since commit
    a1578c654f26cab07309bc9cbddd3c95c0c205b5, because wrapped lines are
    automatically joined before they are passed to the check. Also, inherit
    ignore_comment = True from LineCheck.

commit 70f580e22e82dc26831cd759c56501c72a8db00f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Oct 8 06:48:55 2012 -0700

    ForkProcess: increase scope of try/finally/_exit

    This minimizes the probability of triggering irrelevant finally blocks
    from earlier in the call stack (bug #345289).

commit 00d168d306635ab407dec3db50dd36e99bb44375
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 7 19:30:51 2012 -0700

    PollScheduler: rename sched_iface to _sched_iface

    It isn't used externally anymore, since SchedulerInterface is used
    directly in those places now. Many of the self.sched_iface references
    updated here, it's more appropriate to use self._event_loop.

commit 83577043ac769db95e490ef180de14d01072f13a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 7 15:02:35 2012 -0700

    Show slot + repo for colliding packages.

    See bug #437516 for example.

commit b91eefc82e995ba3463d212f95fa9228c5cf53ae
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 7 14:31:39 2012 -0700

    repoman: identical Manifest commit message

    This will fix bug #437546.

commit 1d0403ffdd9465cab721dabb80eec18c0f5abdcc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 7 12:12:52 2012 -0700

    Substitute SchedulerInterface for PollScheduler.

    SchedulerInterface suffices for all of these cases.  EventLoop(main=False)
    is used for thread safety where API consumers may be using threads.

commit 2bc9b7c6147fb30838773b52674f53bb920bab72
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 7 11:17:35 2012 -0700

    PollScheduler: split out SchedulerInterface

commit 61262d1c27e372abb3dc9ba914b1640d2ba65a7f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Oct 7 09:59:41 2012 -0700

    action_uninstall: use PollScheduler not Scheduler

    The PollScheduler class suffices here, if we just add a small amount of
    logic to calculate the _background attribute from the emerge opts.

commit ae17d89347d2c9a604ccc984fb9f83c79e789162
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Oct 7 07:32:28 2012 +0200

    best_version() and has_version(): Improve die() messages.

    - Print different die() message for invalid atoms.  - Mention ebuild-ipc
    instead of portageq in other die() messages when
      ebuild-ipc is actually used.

commit da242e25372a16334b9babfad2868feb78f9a529
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Oct 7 06:51:12 2012 +0200

    Run tests with Python 3.4.

commit e8b66e3e9781aaad8535085007aa12b9a2a64742
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Oct 6 15:00:53 2012 -0700

    PollScheduler: move _main_loop to Scheduler

commit bb86a7b52641ad0b0b8e4150344865fec89eb4b3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Oct 6 11:05:37 2012 -0700

    MetadataRegen: inherit AsyncScheduler

commit ddabf811a04a2e12f1f98e623a17f928deb2b3ba
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Oct 6 10:26:26 2012 -0700

    ManifestScheduler: tweak _task_exit output order

    This ensures that errors are logged before new jobs are scheduled.

commit e9ea4bc74f16e6c120fdf9c1926dfcb7de7bd135
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 5 22:20:07 2012 -0700

    Substitute EventLoop for PollScheduler.

    EventLoop suffices for all of these cases. EventLoop(main=False) is used
    for thread safety where API consumers may be using threads.

commit 14230dd467c4f0136cb99e83f2d610de166b772b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 5 21:31:56 2012 -0700

    PollScheduler: remove register/unregister methods

    These methods were aliases for the EventLoop io_add_watch and source_remove
    methods. Migrating to the EventLoop method names allows an EventLoop
    instance to substitute for a PollScheduler inside subclasses of
    AbstractPollTask.

commit 637bb91a9439d4bb7f391fe6e804b64592812fdd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 5 21:00:19 2012 -0700

    PollScheduler: remove self._jobs

    This is variable is only needed by the Scheduler class.

commit ed13db998ed501c710a5417e451aebed1eb24f6c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 5 18:54:16 2012 -0700

    AsyncScheduler: remove useless __slots__

    It's not allowed for AsyncScheduler to inherit from two classes that
    define __slots__, so it useless to define __slots__ for AsyncScheduler
    and subclasses.

commit e4b64dd7dc7c2217055f110990b2496b71976681
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Oct 5 13:48:53 2012 -0700

    TaskScheduler: inherit AsyncScheduler

    This allows the QueueScheduler class to be eliminated.

commit e58829dd5e2272b9c3878cd0ec92680fae075b40
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 4 21:08:01 2012 -0700

    test_ipc_daemon: implement internal SleepProcess

    Emulate the sleep command, in order to ensure a consistent return code
    when it is killed by SIGTERM (see bug #437180).

commit 8e5dcfaf9c57da3be20ae673f65c3b5b8d9827c2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Oct 4 15:17:57 2012 -0700

    ebuild.sh: comment on noauto behavior

commit 916df01c378dc4a04961effdc209dab791d3e53f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 16:53:10 2012 -0700

    repoman: avoid Manifest double signature

commit 66c95f2ab154f1ac15a4f22b1b5d14ecf2f661ba
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 16:29:15 2012 -0700

    ManifestScheduler: handle InvalidDependString

commit c41055e0698320221f3c42905f413ae9c87a5a85
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 13:16:06 2012 -0700

    ManifestTask: add missing signatures

    If the existing Manifest already has the correct content, but it is not
    signed, then sign it if appropriate.

commit 5de3c48a4221ec1f4a044a2e424b113770db5386
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 11:55:50 2012 -0700

    AsyncScheduler: poll in _schedule_tasks

    Triggers cleanup and exit listeners if there's nothing left to do.

commit 3453c38128c8af3e0178dce7d2d64d7cfb899141
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 11:39:11 2012 -0700

    AsyncScheduler: implement _poll

commit 359cf128a70f7153cb800d7a22c519ec7838f02b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 10:38:45 2012 -0700

    AsyncScheduler: use _termination_check

    The _terminate_tasks method is always supposed to be called via
    _termination_check.

commit 117eeee2de26723a90ff072b7c795b1b0766898b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 03:18:46 2012 -0700

    AsyncScheduler: source_remove in _wait

commit 58d15b3761571653d84cd3a617f22a338290e0e4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 03:00:23 2012 -0700

    EbuildFetcher/MergeProcess: inherit ForkProcess

    Also add missing __slots__ to ForkProcess. TODO: Share code between
    ForkProcess and MergeProcess.

commit 15a799b52155a47568f4b049ff8487a2718b270c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Oct 3 02:31:41 2012 -0700

    egencache: add --update-manifests, bug #436918

    Update manifest files, and sign them if signing is enabled. This supports
    parallelization if enabled via the --jobs option. The --thin-manifests and
    --sign-manifests options may be used to manually override layout.conf
    settings. There's also a new --strict-manifests option that may be
    used to manually override the "strict" FEATURES setting, a --gpg-key
    option to override PORTAGE_GPG_KEY, and a --gpg-dir option to override
    PORTAGE_GPG_DIR.

commit 1ed9164f6fa6f09d9b26c9aa0187c13bbeebc17b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 2 19:43:12 2012 -0700

    Fix emerge <tbz2> for python3.

commit 6571d8b160e2e5d10ef76fcc5fba288d3e494d3e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Oct 2 13:22:57 2012 -0700

    OrderedDict: fix setitem bug #436974

    This fixes some strange behavior triggered during fetch, which is only
    observable with Python 2.6 since it doesn't have collections.OrderedDict.

commit 9c40728fefe0c5d7f23821cacd641106d45569ac
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 30 10:30:47 2012 -0700

    debug-print: chgrp ${PORTAGE_GRPNAME:-portage}

    This fixes warnings for prefix users (see commits
    1c3c3b802014ac6356af09d149aaaffce6c14dc3 and
    6983b1a1dd21f931ba751b727bd1a3c460383840).

commit 6983b1a1dd21f931ba751b727bd1a3c460383840
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 30 10:23:01 2012 -0700

    phase-functions.sh: chgrp $T/environment

    This partially reverts commit 314791e319e3ac7ce75f3a6f9ae9cc5c2b837df6,
    in order to cover possible cases where it may not actually be
    redundant, like if ebuild(1) is used to call pkg_setup as root,
    and then a different user calls src_unpack. We use PORTAGE_GRPNAME
    if set, in order to avoid triggering irrelevant warnings for
    unprivileged prefix users (see chown and chgrp wrappers in commit
    45bedf9cdc10fafd94858f67d62b36d35dd99544). This mirrors the approach taken
    in commit 1c3c3b802014ac6356af09d149aaaffce6c14dc3 of the prefix branch.

commit 314791e319e3ac7ce75f3a6f9ae9cc5c2b837df6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 30 01:40:36 2012 -0700

    phase-functions.sh: remove redundant chown/chmod

    These calls trigger warnings in prefix mode, since commit
    45bedf9cdc10fafd94858f67d62b36d35dd99544. They are redundant, since the
    permissions are handled the _post_phase_userpriv_perms function.

commit 45bedf9cdc10fafd94858f67d62b36d35dd99544
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 30 01:18:45 2012 -0700

    Add chown and chgrp wrappers for prefix.

    For prefix, there is typically only a single unprivileged user who owns
    everthing that is built and installed, and in this case it's desirable
    to ignore chown and chrgrp failures. So, move the logic from fowners
    into chown and chgrp wrappers, as discussed in bug #433453.

commit 2377357f4e0164d338c1249c79f479229aa7c0e4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 28 19:36:17 2012 -0700

    Handle KeyError when loading pickles.

    See http://forums.gentoo.org/viewtopic-t-938022.html for example.

commit d5ec77f886ba5891de2d2dcc25700327596df588
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 27 12:12:03 2012 -0700

    Fix indent from last commit.

commit 4c1145787195dcd1cc9a459d4cada72155d3ad81
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 27 10:38:37 2012 -0700

    ebuild.sh: EAPI conditional usex dummy

    This probably makes no difference in practice, since it only affects the
    "depend" phase. Note that we're allowed to use EAPI conditionals here,
    since we parse the EAPI on the python side and pass it to bash.

commit a6cfb7dc96cf015d3867929ab0dece49fb69ded0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 27 09:58:35 2012 -0700

    _slot_operator: EAPI 5-hdepend DEPEND target only

commit d0089063c457ef2adc7b01e7296c4988edb709a6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 26 19:04:59 2012 -0700

    prepalldocs: fix inverted eapi_has_docompress

    This broke in commit ab46499322311c1faa710c63d0a5339e49a9061a.

commit 690fe8571a827cbe0e807b9c396f0d134d35481e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 26 14:43:13 2012 -0700

    dodoc: source isolated-functions.sh earlier

    This is needed since commit ab46499322311c1faa710c63d0a5339e49a9061a.

commit 7cf1e23b2debfa1a09c98d5cc6a795cc3e58ea95
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 26 13:55:00 2012 -0700

    UseManager: /etc/portage/profile extended syntax

    If /etc/portage/profile/eapi does not exist, then support extended atom
    syntax. This will fix bug #436330.

commit ab46499322311c1faa710c63d0a5339e49a9061a
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed Sep 26 22:31:20 2012 +0200

    Add eapi.sh with ___eapi_*() functions and use these functions in
    other files.

commit c371cb4d1a1858c6271af9abee53b1dcc28d5435
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 26 11:22:15 2012 -0700

    test_ipc_daemon: increase sleep for bug #436334

commit 886eee63bc0f4b56a6705d2ed671f361ed907f5f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 21:11:31 2012 -0700

    Use constants for more hardcoded *DEPEND lists.

commit 0f07531fa54158a84ca0105b7652ffd9a3f2986e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 20:47:39 2012 -0700

    update_ents: use Package._dep_keys

commit 60e5cc3081b1bf9fe4a7c633cc13c183e25d7b36
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 20:31:01 2012 -0700

    evaluate_slot_operator_equal_deps: do HDEPEND

commit a155c609ac8cac92e9a04f6ca47c8e6a9df97055
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 20:28:24 2012 -0700

    Use constants for more hardcoded *DEPEND lists.

commit 63970f5c610e16478c08459669dfc2e1abf8c0f2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 20:15:51 2012 -0700

    Use constants for hardcoded *DEPEND lists.

commit 356b518fd996e4fd4719e9d350078326eb64c0d9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 19:38:38 2012 -0700

    Test emerge --root-deps more.

commit f337eed16b0f9995f6efd825a84a14f34b87adeb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 19:36:32 2012 -0700

    Test emerge --root-deps.

commit 2b2580d9dac62aa720e5d996fa5102ee5caeffe7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 19:25:49 2012 -0700

    EventLoop: fix busy loop waiting for child pid

    This fixes a case where EventLoop could consume 100% CPU while waiting
    for a child process. It also fixes timeout calculations in python 2.x,
    where it was using integer division instead of float.

commit f7648d050e9f3936ff2bc278f6927aa0b901be50
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 19:14:32 2012 -0700

    _add_pkg_deps: use _get_eapi_attrs

commit 15a7519049e47f726a37f985b7c4a559b47dae16
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 17:52:08 2012 -0700

    ResolverPlayground: check targetroot in mergelist

commit 893663df409d05dc32fc7fd461929068c3d4ccea
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 17:12:52 2012 -0700

    ResolverPlayground: support targetroot

    In order to support targetroot, ResolverPlayground always writes make.conf,
    since create_trees does not propagate all of the necessary settings via
    the env parameter (because the env settings often need to be isolated
    from eachother, especially for cross-compilation).

commit 9d84d008d1261405d22de537d8672d67791a9271
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 11:25:15 2012 -0700

    repoman: rename most *DEPEND.* to dependency.*

    This makes it easier to add new types, like HDEPEND.

commit 824631135d50c58a2176a724df2a68b9b9ae9501
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 25 10:28:26 2012 -0700

    repoman.1: unify *DEPEND.bad*, *DEPEND.syntax docs

commit 25b0c4545c9a3e8b80347bd458d80b4add330ef6
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Tue Sep 25 15:58:24 2012 +0200

    Document targetroot useflag in ebuild(5)

commit 127228fb14fa8a2f12b3a2710eb5a0ecad38f29e
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Tue Sep 25 15:58:23 2012 +0200

    Document default behaviour without --root-deps for EAPI 5- in ebuild(5)

commit 0c09bd722b091b6efd8c2c0b3a039965dd6fca58
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Tue Sep 25 15:58:22 2012 +0200

    Put lengthy install-location documentation into an own paragraph for
    cross-compile docs in ebuild(5)

commit a265e5e6a9f0c9af19942b5e52f046749426062f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 21:23:02 2012 -0700

    Add EAPI 5-hdepend.docbook

commit 558ada1185e9d44627298aeff1b2a699c509897d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 20:44:28 2012 -0700

    Remove obsolete cache/flat_list.py

    This module has been obsolete and useless for many years, which is
    especially obvious since it was missing INHERITED from its auxdbkey_order
    and it did not write any eclass metadata.

commit 673be9159fcc94da719496f6b2049548efeeb1db
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 20:30:05 2012 -0700

    ResolverPlayground: simplify vdb/portdb creation

    This enables automatic handling of HDEPEND.

commit cae908bf076f05dbee9082183d6bf8c9750b632b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 19:18:50 2012 -0700

    make.conf.5: refer to ebuild.5 for cross-compile

commit d66dae55640ab98e81353325ba1daba5ba31017e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 19:00:14 2012 -0700

    circular_dependency: handle HDEPEND

commit f6aeb08c6aedeceee44b2dc65be60a5fd0474981
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 18:54:32 2012 -0700

    cache/sqlite.py: translate None to empty string

commit 7207ceb064617998193b4db5eb18563d2deebbef
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 18:41:50 2012 -0700

    cache/metadata.py: add HDEPEND

commit dc46bef30fefdcd9305bfb92f24c83758129279f
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Tue Sep 25 00:27:09 2012 +0200

    portageq: Automatically do not include imported functions in the list
    of commands.

commit 11ad9440901f17cb01d43d8d0f2bdded1efb24a6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 14:43:03 2012 -0700

    man/emerge.1: italics for emphasis

commit a2e36694d14cc895592b36ba812e55f5cfdd9923
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 14:01:11 2012 -0700

    Re-word HDEPEND docs wrt "EAPI 5 and earlier"

    Referring to ranges like this is ambigous when when don't know what EAPI
    6 will bring, and we have both EAPI 5-progress and 5-hdepend which add
    different feature sets to EAPI 5.

commit cadafa05ca3f8ec19140fbc6a5a6213e938f2abb
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Mon Sep 24 14:16:02 2012 +0200

    Document behaviour of --root-deps for EAPI 6+ in emerge(1)

commit 2e39f26cad22946d8ffe378c512de49cdac8d24c
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Mon Sep 24 14:16:01 2012 +0200

    Document HDEPEND in ebuild(5)

commit 774778214c28dff5a845714d32712bf86cd29a63
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 13:26:24 2012 -0700

    repoman: support HDEPEND for EAPI 5-hdepend

commit 814e82f24afc221eee72f2b53a3fb7587605cbf9
Author: Ambroz Bizjak <ambrop7@gmail.com>
Date:   Mon Sep 24 13:13:46 2012 -0700

    Add experimental EAPI 5-hdepend support.

commit c4703d79878e4e0eb8e2b36e49c0bdee835b847e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 24 08:17:11 2012 -0700

    _global_updates: scan binarytree only if needed

    This will fix bug #436084.

commit 2211b72119817163dd28207b137590dc51bbe2f1
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 23 20:38:43 2012 -0400

    drop support for QA_DT_HASH/QA_STRICT_DT_HASH

    These variables have been deprecated in favor of the new variables
    QA_STRICT_FLAGS_IGNORED/QA_FLAGS_IGNORED, and the tree has been converted
    over to the new ones, so drop the old vars.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ca46b021359ffa13a808f99dd635a6958b369be5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 23 20:16:54 2012 -0400

    use `readlink -f` if it works

    Rather than always re-implementing `readlink -f` in shell, probe the
    host tool first to see if it works.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a8b9e099d08e72c10046639a15c3c7c02045c4da
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 23 20:12:14 2012 -0700

    _create_use_string: pass in feature_flags arg

    This allows them to be looked up outside of the USE_EXPAND loop.

commit 3cf984f540e99df61ae24246fe76ed56afb277aa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 23 20:00:56 2012 -0700

    env_update: use eroot variable more

commit 62525844120c5308830c7140b9d5f037a4afe9c9
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Sun Sep 23 20:31:52 2012 +0200

    Reorder description of --root-deps in emerge(1)

    80 char width and max 1 sentence per line.

commit 9dd83334c56262de44b0efa3c98777f1a3cc27af
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Sun Sep 23 20:01:12 2012 +0200

    Improve wording of *DEPEND variable description in ebuild(5) a bit

commit f2da08db6ad7b8c207a58f75e4daf96a74f29c56
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Sun Sep 23 19:51:52 2012 +0200

    Better documentation of PDEPEND in ebuild(5)

commit a1a8a79a76fd1be60f6fcf992efcbc1d98d0f941
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Sun Sep 23 19:51:29 2012 +0200

    Fix referencens to Dependencies section of ebuild(5)

commit 2e580d2852789b2c5deb922555f73643d0b9617a
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Sun Sep 23 18:07:12 2012 +0200

    Adjust code of first paragraph of ebuild(5) to 80 char width

commit af1a287b1dc771901f1b30f2166d20c1758e8587
Author: Dennis Schridde <devurandom@gmx.net>
Date:   Sun Sep 23 00:56:56 2012 +0200

    Reorder and cleanup of ebuild(5)

commit 1a189611ef19a624f3d180d184faa5fcef17e7bf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 23 19:25:02 2012 -0700

    env_update: scan all dirs starting with "lib"

    Also see bug #435834 and commit 7fb9758506341ffc05585fbd18f2be58ef0e16c2.

commit 7fb9758506341ffc05585fbd18f2be58ef0e16c2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Sep 23 20:07:36 2012 -0400

    scan all lib subdirs

    Rather than hardcoding lib/lib32/lib64, scan all dirs starting with "lib".

    URL: https://bugs.gentoo.org/435834 Signed-off-by: Mike Frysinger
    <vapier@gentoo.org>

commit 439b2c8e8a09bc048de66d30905dbc086ee6796d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 23 16:22:35 2012 -0700

    Add _get_feature_flags(eapi_attrs) function.

    This will be useful for adding flags that behave specially in experimental
    EAPIs, such as the targetroot/sysroot flag which is planned for EAPI
    5-hdepend.

commit 6d8d0c02457c2e94c759fe89db0bef196b78158a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 23 15:43:04 2012 -0700

    RepoConfig: add find_invalid_path_char method

    This binds filename validation to the RepoConfig, so that eventually
    we'll be able to control it via a layout.conf setting as discussed in
    bug #435934.

commit 0d5b0fbd79ba8b2e7dd5d2f2db7d69cad3e56766
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 22 14:52:35 2012 -0700

    Use re.UNICODE for category/package name regexes.

    This only affects r'\w' with Python 2.x, since Python 3 already defaults to
    re.UNICODE behavior when compiling unicode str objects (unless re.ASCII
    is specified). If a repository wants to ban unicode categore/package
    names then we can add a layout.conf setting for that, as discussed in
    bug #435934.

commit 80f71e3fdb06e0bf5f0ee6c4aa25f2b2c7a64dfd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 22 10:08:03 2012 -0700

    emerge.1: --depclean-lib-check not time-consuming

    Since commit f393413c3f823ef4a60acfcc41c3920933510fc1, it's optimized
    so that it shouldn't take much time.

commit 50525b722e922a724e6000fb1c554c1a9ca479bd
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sat Sep 22 02:45:57 2012 +0200

    Include usex in the list of helpers banned in global scope in documentation
    of EAPI="5-progress".

commit 46f16da7090e93a2145c68eace7cee0e74433065
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 15:22:07 2012 -0700

    NEWS: fix --depclean-lib-check sentence

commit d6f16994180d624113ee8c0d3b9808b67516f821
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 15:17:45 2012 -0700

    doebuild.py: remove unused f = None

commit 182c8f8ab223481a420ca5184d907f44f069a714
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 15:00:08 2012 -0700

    Deprecate EAPI 5_pre2.

commit 12f5d67fcd398ff0e1e86cc2ef442da96a7a0d3c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 14:53:05 2012 -0700

    NEWS/RELEASE-NOTES: adjust info for package sets

commit 376dfd751dc864d85d98517a63ca531207dd44ad
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 14:50:08 2012 -0700

    portage.5: document nested package sets

commit 6f065d4911cd72a33e01fa8100d53ed16c6e7e4e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 14:19:18 2012 -0700

    Add preserve-libs for stable branch (not default)

    EAPI 5 supports automatic rebuilds via the slot-operator and sub-slots,
    which makes preserve-libs much more user-friendly, since it makes
    @preserved-rebuild unnecessary (also see bug #364425 for explanation of
    @preserved-rebuild shortcomings). Therefore, enable preserve-libs for
    the stable branch, but not by default. After EAPI 5 is widely adopted,
    we can consider enabling preserve-libs by default.

commit 6ee701eb65fbfc00cbf6ebc16de2d6487ba2cfd7
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Fri Sep 21 21:03:05 2012 +0200

    Support EAPI="5-progress".

commit a574fd9e6f81a0a072cbaf34c6bd45ad7942cc94
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 11:40:20 2012 -0700

    Add _DEPCLEAN_LIB_CHECK_DEFAULT constant.

    This will allow for the option to be available in the stable branch
    without changing the default --depclean behavior.

commit d1ea4ac22b9b972b684c379434d2a1b8e5f9d933
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 21 11:00:29 2012 -0700

    primaryuri: prefer thirdpartymirrors in SRC_URI

    This will fix bug #435720.

commit c42ed0f97224091c33edeb79a3719de0b283fa1f
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Fri Sep 21 08:31:13 2012 +0200

    Improve allowing of directories on profile level and repository level
    in EAPI="4-python".

commit 257a7faf60ab5670b4b2cfb3507d1a2835caaff3
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Fri Sep 21 06:30:12 2012 +0200

    Read profile EAPI earlier.

commit a35385d83801ace458d5896285c9d89bedbbaca8
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Fri Sep 21 05:23:47 2012 +0200

    Move EAPI check for stable USE forcing and masking to portage.eapi module.

commit 3cedc1fa53f50641771fa1710aab10e1fcc10ff0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 20 12:05:06 2012 -0700

    NEWS: EAPI 5 in 2.1.11.19

commit e75364c99827641cd491206acfba4c6587cfcd33
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 20 11:01:43 2012 -0700

    Enable official EAPI 5 support.

    The council has officialy approved EAPI 5 in PMS:

    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=99c78a51ff4c9737cdd399620072abdc14f8df11

commit 8ba939d53e52a88c183a2db95d1e51f04b0d9bb6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 20 10:19:54 2012 -0700

    Add QA_DESKTOP_FILE variable.

commit ff98a555c612958c8b22fc300b54f90aa790df9c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 21:17:08 2012 -0700

    update.py: cleanup imports

commit cc13d56d9f13e518eefd6ba67364d73ac464f184
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 21:08:47 2012 -0700

    update_dbentry: fix "move" to translate atom[use]

commit 6033efa29268178cb7b2343b1d18888ce1c42266
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 20:59:13 2012 -0700

    test_update_dbentry: test "move" command more

commit 48a61cc19483628d30346488c252008a8c646d39
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 20:37:55 2012 -0700

    deprecated_profile_check: search more locations

    This fixes it to search both /etc/make.profile and
    /etc/portage/make.profile, and also makes it traverse parent profiles
    when the settings parameter is passed in.

commit 81dc208f64523eaf6f67d064af436e25992e461f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 20:13:40 2012 -0700

    config: source make.conf only once if samefile

    Since migration from /etc/make.conf to /etc/portage/make.conf, people
    frequently ask if hardlinking or symlinking them is allowed. So, detect
    this case and avoid redundant sourcing when appropriate.

commit 0b80286311ccc4fbbe9e13015541867f7235a3c9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 19:56:41 2012 -0700

    MAKE_CONF_FILE: refer to /etc/portage/make.conf

    This is, or will soon soon be the default location of make.conf in stages:

    http://sources.gentoo.org/gitweb/?p=proj/gentoo-news.git;a=blob_plain;f=2012/2012-09-09-make.conf-and-make.profile-move/2012-09-09-make.conf-and-make.profile-move.en.txt

    This update is consistent with the PROFILE_PATH update in commit
    96b053ac52fa37fdd61cbb76cb44dfb90fb49f86.

commit c4a5a11080868abae6864e8fe6ab0ba2340ed51c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 19:36:03 2012 -0700

    config: _eapi_cache.clear() beginning constructor

    This is important when config is reloaded after emerge --sync.

commit 60d7d3cf4364a1cc41cf98b57359a0faf1fdc5bd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 19 12:48:24 2012 -0700

    update_dbentry: improve slotmove support

    This could be especially useful for "built" slot operator deps, in order
    to avoid having a slotmove trigger unnecessary rebuilds.

commit 61406033e6ae182d9f4a7fceea81871e74f9b0b6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 18 13:17:34 2012 -0700

    Atom: don't allow :slot* syntax

    This syntax is useless, and PMS doesn't discuss it.

commit 8279b1e6626e634b4e8f5175180cf17cf09d5b8a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 18 12:01:59 2012 -0700

    cache/sqlite.py: fix getitem order assumption

    The order assumption was incorrect when new columns were added, since
    they could be added in any order.

commit 1d9b8968460c4bdb44daeda3454ef0ef5035c398
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 17 19:59:23 2012 -0700

    doebuild: update environment.bz2 for pre/postinst

    Also, remove unnecessary __dyn_preinst func.

commit 8bdba93c1a5d3b7500dec73a12fa9c40b43b9e2a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 18:36:08 2012 -0700

    __strip_duplicate_slashes: quote paths

commit 087fc47e7c98f1c49ab5b873f3b476f8c1e00a17
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 18:27:32 2012 -0700

    doheader: don't count -r as required arg

commit 3da62f9d447c0bfa4089554deb485c4eeeae9879
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 14:16:41 2012 -0700

    Fix "unsatisfied" comment typo.

commit ca79d9994fc43909203daad5f2c12f750a504b28
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 14:01:29 2012 -0700

    repoman: unsatsified use-default deps, bug 435242

commit db74640678f445f768922046bfe5d87c4822e249
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 13:02:08 2012 -0700

    repoman: reject "built" slot-operator atoms

commit 0984aa88b7aaa273453fc59b0507d59502087fda
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 11:58:48 2012 -0700

    portage.5: Add EAPI 5 profile IUSE injection

commit fab167b72dd7b3260b70bd71efd292e7ca70500e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 11:24:21 2012 -0700

    portage.5: rename STAGE1_USE to BOOTSTRAP_USE

commit 5c1e3993c7f870d55a17113424a374ea711be172
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 11:13:36 2012 -0700

    portage.5: move USE_EXPAND from make.conf.5

commit 834b5ccf0eb9843beab50ebcb662425111d2f7f7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 16 10:47:11 2012 -0700

    portage.5: add EAPI 5 stable use mask/force

commit 91f30deab355d07a3df481124f71177f97ad1a6e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 13:54:40 2012 -0700

    ebuild.5: EAPI 5 best/has_version --host-root

commit 6594669f13564295f7b966fea2733f4329f6b91b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 13:42:50 2012 -0700

    ebuild.5: EAPI 5 new* commands can read stdin

commit b726c71804f59109d4ba800bb51986fbae0dde61
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 13:26:20 2012 -0700

    ebuild.5: add EAPI 5 doheader helper

    As noted in bug #21310, comment #5, PMS currently does not document the
    -r option.

commit 0bf08c62770ef25e4888d460ab8ac068cb93110f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 12:58:44 2012 -0700

    ebuild.5: EAPI 5 econf add --disable-silent-rules

commit f65ec9623fb98f4c134e38643520e2a9caeaa2f9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 12:53:02 2012 -0700

    ebuild.5: add EAPI 5 usex helper

commit ac85d5aa9f2b55850ff463f741e6f542e6d3817f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 12:39:05 2012 -0700

    ebuild.5: EAPI 5 default_src_test parallel

commit 345d938b7b995d7f336bf5d88dbf91affe27ac0d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 12:26:46 2012 -0700

    ebuild.5: add EAPI 5 EBUILD_PHASE_FUNC variable

commit c4ac9c98510a8c61f474225d52287de29c9ce975
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 12:11:57 2012 -0700

    ebuild.5: add EAPI 5 REQUIRED_USE ?? operator

commit 7140f31a4ad322d05ea96250e9ef39b71ebf8c8a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 12:08:45 2012 -0700

    ebuild.5: document EAPI 5 slot operator, sub-slot

commit 50bea0375496f919fc40c586e8308b19f814ba66
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 15 09:53:42 2012 -0700

    egencache: skip auxdb write if not metadata-trans

commit 0cced1bd17ce277604b47717cc00ae2f13bdc5f6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 14 11:10:40 2012 -0700

    portage.5: remove {un,}set_unless_changed docs

    These functions were removed in commit
    25a5296f29bc7153fa29e2dfe8de9d08d40d9944.

commit 7fdef103bb0ece06310d322456bb138f935bfbd0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 14 10:17:22 2012 -0700

    Use __ prefix for _hasg, _hasgq, and _unpack_tar.

commit 565adddf0ce3d492a605c9353865867e7cc226e6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 14 10:09:08 2012 -0700

    save-ebuild-env: fix for __dyn* renames

commit bb9186cd81d707593ea386d17321bd594d847126
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 14 00:25:57 2012 -0700

    emerge-delta-webrsync: fix vecho breakage

    Broken since commit 9b19ac5696c487dab58d7c10990fe07fd7f1f731.

commit 5a3fb946698ec789e724158ec5742cdc49ac7473
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 23:29:44 2012 -0700

    Convert funcs of ebuild.sh to __ prefixed namespace.

commit 4c14931d6ae701bd83bbe526001d2b7ba664b58e
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 23:08:00 2012 -0700

    Convert funcs of save-ebuild-env.sh to __ prefixed namespace.

commit 7571867c71392b5c61b040884017c00e9d1ecb3f
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 23:00:10 2012 -0700

    Convert funcs of phase*.sh to __ prefixed namespace.

commit 9b19ac5696c487dab58d7c10990fe07fd7f1f731
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 22:14:01 2012 -0700

    Convert funcs of isolated-functions.sh to __ prefixed namespace.

commit a23d0f4432abcfd1ebe4f2a3961185ca653ff2e0
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 21:41:04 2012 -0700

    Convert funcs of bashrc-functions.sh to __ prefixed namespace.

commit 25a5296f29bc7153fa29e2dfe8de9d08d40d9944
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 21:40:41 2012 -0700

    drop dead functions

    Specifically, esyslog, {un,}set_unless_changed, and remove_path_entry.

commit 2bafee5c926a644e58099bb5dbb3eec7cd80518c
Author: Brian Harring <ferringb@gmail.com>
Date:   Thu Sep 13 21:56:10 2012 -0700

    Drop diefunc protection.

    The last usage of it was added 67e88b82726a93eda^, 01/20/08; 4.5 years
    later, the compatibility measure is no longer needed.

commit c138e8e2654ad9350eec2a433991b882b4c6b058
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 23:00:16 2012 -0700

    dep_check: cleanup repoman use.force/mask code

commit a10fea0231db16dd8bbb5384c060844a20e9ef33
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 19:24:04 2012 -0700

    Refactor FEATURES=test USE logic.

commit 482c3de43f4af8e4ca835fe4febabe0415ad3f8f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 19:08:23 2012 -0700

    Display: simplify _blockers

    The fetch_symbol variable was always just a space, and no return value
    was really needed.

commit e135f6f32d728dd918253a17681fc412704c0db1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 18:51:31 2012 -0700

    Deprecate EAPI 5_pre1.

commit db2e6f614169307e1c9cca9f8bab63f724547db4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 18:37:19 2012 -0700

    merge list: distinguish reinstall with red "r"

    This is for reinstall due to slot or sub-slot change of a dependency
    when the := slot operator is used.

commit 156bf1b09a263217e9de5d0d14934cc295121f0a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 18:03:54 2012 -0700

    Refactor merge list attribute display.

    This should not change the behavior at all, but it makes the display
    much easier to modify or extend.

commit 6b19f71b39b6af43307abf20654511bace041217
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 15:47:13 2012 -0700

    Bind FEATURES=-test to USE=-test for bug #373209.

    Also, make options like emerge --newuse ignore the state of USE=test,
    since users typically don't want to trigger a bunch of rebuilds when
    they enable or disable FEATURES=test.

commit 34fd6700ba3ff1e18865322b37be31851570ab83
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 12:37:28 2012 -0700

    repoman: test package.use.stable.mask

commit 32dda00da1d9d33c345896119a7e01fc840df265
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 11:40:22 2012 -0700

    find_updated_config_files: x var name collision

    This broke in commit 09de8dc47ec48af2276dfa098dd5e1d3d09ddbdd.

commit 7fac4fd060dff7a5a6180f243176b2ddbb655133
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 13 11:24:54 2012 -0700

    FEATURES=test: test flag respect IUSE_FFECTIVE

commit 98a5c7ae69499cc94a1d362aafb9bb2c1eb20ee8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 12 01:12:05 2012 -0700

    chflags: fixed empty opts argument

    This broke in commit 09de8dc47ec48af2276dfa098dd5e1d3d09ddbdd.

commit 96b053ac52fa37fdd61cbb76cb44dfb90fb49f86
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Sep 12 00:28:51 2012 -0700

    Prefer /etc/portage/make.profile.

    This is the default location used by current versions of eselect profile,
    and will soon be the default location in stages. Since eselect profile
    generates a warning if both /etc/make.profile and /etc/portage/make.profile
    exist, the new default should be fairly safe (although eselect profile
    currently prefers /etc/make.profile when both exist).

commit ea54077b59d2aec35add5c3f6779b6772f3127a5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 9 17:30:19 2012 -0700

    EbuildPhase: fix WORKDIR owner after unpack

    See bug #332217, comment #24.

commit 8833d51e37ae152cda3349edf919a2d63b0171f9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 23:38:52 2012 -0700

    chflags: fixed octal flags format breakage

    This broke in commit 09de8dc47ec48af2276dfa098dd5e1d3d09ddbdd.

commit d52a8a54012d0cfb5b2cd4128b9cda58eeddef33
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 23:33:26 2012 -0700

    save-ebuild-env: don't filter apply_user_patches

    Except for EAPI 5_pre1.

commit 09de8dc47ec48af2276dfa098dd5e1d3d09ddbdd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 23:24:44 2012 -0700

    Replace getstatusoutput with unicode safe Popen.

    This fixes potential issues similar to those reported in bug #310789.

commit 5614fa2d7cef0b509136fd00c52a8436d41a3647
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 21:56:39 2012 -0700

    make_herd_base: encode unicode file paths safely

    This will fix cases similar to the one fixed in commit
    f01d7a8ca158ec60df76a3e8ae5b80ac3f62429e for bug #310789.

commit 62f4f330fc5ed840eba9d32da353afe789e2805b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 21:52:33 2012 -0700

    egencache: encode unicode file paths safely

    This will fix cases similar to the one fixed in commit
    f01d7a8ca158ec60df76a3e8ae5b80ac3f62429e for bug #310789.

commit 6d1ed6df57e6167fee9c6fc30fa889f27042043e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 21:46:43 2012 -0700

    MetaDataXML: encode unicode file paths safely

    This will fix cases similar to the one fixed in commit
    f01d7a8ca158ec60df76a3e8ae5b80ac3f62429e for bug #310789.

commit 5645c4390128c0a174290d9727195b97a894088e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 11 21:26:49 2012 -0700

    Add EAPI 5_pre2 with features approved by council

    In the 9/11 council meeting, they approved everything in EAPI 5_pre1
    except user patches. So, add EAPI 5_pre2 which is identical to EAPI
    5_pre1 but with user patches (apply_user_patches) support removed.

commit 9f735963c000f0e925b513c5378b2552476c0e8e
Author: Michael Palimaka <kensington@gentoo.org>
Date:   Wed Sep 12 03:22:05 2012 +1000

    Only validate .desktop files that are installed into XDG-compliant
    locations.

    This replaces the existing error blacklist, and therefore removes the
    repoman check.

commit c512c31e3ce0f53ac3ad4d59a577503413704174
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 10 14:06:52 2012 -0700

    repoman: fix Unicode unequal comparison warning

commit 11d08aca93d6a458cdf71473c22c205d66df57f6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 10 13:45:23 2012 -0700

    repoman: fix os.system() unicode, bug #310789

commit f01d7a8ca158ec60df76a3e8ae5b80ac3f62429e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 10 13:33:35 2012 -0700

    repoman: ElementTree.parse: encode unicode path

    This fixes another issue like bug #310789.

commit 04f8e1e2b542c5a524ac8ab5e95f427bfe5a2de7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 10 12:46:50 2012 -0700

    use(): use set -f and handle IFS

commit 8dbf44f4ca3390d2232b83de52dd630a47126a5e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 10 09:40:22 2012 -0700

    Improve ignored binpkg display for bug #434540.

commit e885f1f1a555cd7b285e4f6958d06a145af5283a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 9 22:45:54 2012 -0700

    repoman: fix getstatusoutput more, bug #310789

commit bfe6ea5116870f278b701601f4f6ffc677bff293
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 9 18:26:19 2012 -0700

    repoman: fix getstatusoutput unicode, bug #310789

commit 45bc97f98b41fe4e2286dfb50d1c9f263b0da8a4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 9 17:53:22 2012 -0700

    repoman: fix popen unicode handling, bug #310789

commit ba259d2ef30a06d5bae4f8044423e58ae0350e60
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 9 17:07:18 2012 -0700

    ObjectProxy: implement __enter__ and __exit__

commit 2404704fee165a684e0d730ee3787a512fd71b60
Author: Joachim Bartosik <jbartosik@gentoo.org>
Date:   Sat Sep 8 21:16:36 2012 -0700

    DEVELOPING: fix errors for bug #313413

commit c62331ea1bc831d68d205466b379eda72dbbcaa1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 8 18:07:16 2012 -0700

    EbuildPhase: simplify utime args

commit 7a54703a8b28326bd428327f68e726238eba02df
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 8 17:54:10 2012 -0700

    EbuildPhase: bump WORKDIR timestamp after unpack

    This will fix bug #332217.

commit 08b350a53b52adb18947ce2f1ffc56a8d59b02ba
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 8 13:31:50 2012 -0700

    egencache: tweak metadata-transfer logic

    Now is won't force metadata-transfer unless it's absolutely necessary.

commit 85dc824f7b7c595482cadc084411a455c2f00d32
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 8 09:50:19 2012 -0700

    egencache: skip metadata-transfer more often

commit d23756ce3cb10fecbb8735fbbc784ef76e1621f3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 8 09:15:39 2012 -0700

    best/has_version: --host-root first arg only

commit 7da74976e44534bcb286bd9bcb7a7847ba4d6a14
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 7 22:35:03 2012 -0700

    egencache: skip metadata-transfer if possible

    If there is an existing metadata/md5-cache directory, then it's not
    necessary to forcibly enable metadata-transfer.

commit 24b7ebe3b9404f0344f5b34eb322abde64143263
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 7 21:32:03 2012 -0700

    Detect md5-cache when no cache-formats specified.

    Auto-detect cache-formats from the corresponding directories when
    cache-formats is not specifed in layout.conf, and prefer md5-dict if
    available. After this behavior is deployed in stable portage, the default
    egencache format can be changed to md5-dict.

commit c35ec6c074f44ffbf7849c54976c91ce5a53e8fe
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 7 21:07:45 2012 -0700

    Test portdbapi/egencache cache-formats behavior.

commit a2076bfb144b7cf23d9c21da0ceb557e18e9cb95
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Sep 7 13:52:03 2012 -0700

    UseManager: add compat code for getUseForce/PUSE

    Similar code was added to getUseMask in commit
    af50fee789e71c1fff0b405db4cf55b618b73466.

commit 87c9660406126e19a29531d4e7ab0d70f1dbb3e3
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Fri Sep 7 02:46:07 2012 +0200

    Support repository-specific use.stable.force, use.stable.mask,
    package.use.stable.force and package.use.stable.mask in EAPI >=5.

commit 0fbd27b62a8a9a5118e167aba9eec584c8e10334
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Thu Sep 6 23:45:26 2012 +0200

    Update comment.

commit 40c0d7c86f83ff9a1507d030ffc29697df0e3274
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Sep 6 13:06:12 2012 -0700

    dispatch-conf.conf: say install rcs, bug #380551

commit 1ceea27a7cb658f0f592363a98bdef1fe2d1c552
Author: Martin Väth <vaeth at mathematik.uni-wuerzburg.de>
Date:   Wed Sep 5 13:36:43 2012 -0700

    DateSet: use BUILD_TIME, bug #433964

commit 5f406f9ec956f751810dec41bd094364dfa1b834
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 4 13:40:21 2012 -0700

    Enable @x11-module-rebuild for 2.1 branch.

commit 3cb75111668cbe9bdfc16272afda6ebf5c297d83
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Sep 4 13:25:28 2012 -0700

    Enable @live-rebuild for 2.1 branch.

commit 12c142c529909acf1b755690404cef51d8de3fe4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 3 20:28:25 2012 -0700

    Deprecate @installed for bug #387059.

commit ed68a1bdb22fec478ac39b377961508cd3a30617
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 3 20:07:29 2012 -0700

    EbuildBuildDir: ignore rmdir failure, bug #400641

commit 24a91dd6fb9bd9acdc5a72d2e830128c0f06bf98
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 3 18:33:26 2012 -0700

    etc-update: add --quiet for bug #416917

commit 5b65319d819a476cf2a9505398a430785f49a329
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Sep 3 18:05:56 2012 -0700

    ebuild.5: clarify pkg_nofetch for bug #423403

commit 04d156d56e1cf48f0d45d661c5e94e6863549fc2
Author: Michael Palimaka <kensington@gentoo.org>
Date:   Tue Sep 4 01:08:36 2012 +1000

    validate_desktop_entry: filter more KDE noise.

commit 03236ec6bf2040468aeb1bb308fec072aac8cc1b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 16:46:54 2012 -0700

    emaint cleanconfmem: fix writedict breakage

    Use grabdict so the values are stored as lists like writedict expects.

commit 3ee4929c733a6c03f74d6e3f2ced29c30d0ca7b5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 16:03:14 2012 -0700

    Rename _slot_abi.py to _slot_operator.py.

commit d184c0f32eba2eec3a8d28ae71be79aa635db147
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 15:56:46 2012 -0700

    Quote ${EAPI} more.

    This will avoid a potential syntax error in save-ebuild-env.sh if a
    saved environment containing corrupt EAPI is sourced.

commit 952d5c235ed1b440cd156654014fd51f55b638cb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 15:31:20 2012 -0700

    DateSet: only allow one format option in config

commit e88ca68ce64a4982e4a09ba8cafdad70fcaa544a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 15:13:24 2012 -0700

    ebuild-helpers/bsd/sed: whitespace + quoting

commit 50f098aee0282d5294b94c8c3c0074b3126724e6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 14:56:22 2012 -0700

    Unconditionally insert our pym dir in sys.path.

    This is especially necessary when running in prefix mode, since sys.path
    may contain the path for a different version of portage.

commit b7d972b4d18ad726c70f35b8026cbd94b2dc3b5f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 13:33:06 2012 -0700

    emaint cleanconfmem: handle ROOT

commit ce16249658fa99a8b2051a19091b85f712f5dac1
Author: Martin Väth <vaeth at mathematik.uni-wuerzburg.de>
Date:   Sun Sep 2 13:18:20 2012 -0700

    Add DateSet, bug #433704.

    Allow sets of packages installed before or after a specific date.  The date
    may be specified explicitly (in dateformat which defaults to "%x %X") or
    seconds since Epoch, or implicitly as an installation date or a filestamp.

    For example, the following sets can be specified in /etc/portage/sets.conf:

    [date1] class = portage.sets.dbapi.DateSet mode = older date = 08/31/12
    10:00:00 dateformat = %%x %%X

    [date2] class = portage.sets.dbapi.DateSet mode = newer seconds =
    1346400000

    [date3] class = portage.sets.dbapi.DateSet package = sys-devel/gcc:4.7

    [date4] class = portage.sets.dbapi.DateSet filestamp = /usr/bin/gcc

commit b7f39b5f439cc7c3563706478d1ebafca7fde074
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 13:04:38 2012 -0700

    emaint cleanconfmem: use writedict

commit 6a4d36cf51ceac6e300a38b7e1272625e291c9a6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 12:46:46 2012 -0700

    emaint cleanconfmem: ignore md5, bug #433694

commit 8a61c24952137ee10eac107c681cdc40f876ee33
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Sep 2 12:31:23 2012 -0700

    validate_desktop_entry: handle emacs.desktop

    See <https://bugs.freedesktop.org/show_bug.cgi?id=35844#c6>.

commit eac1eae58148227731a1d734ca989730d5321d31
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 19:37:56 2012 -0700

    Enable EAPI 5_pre1 for testing.

commit 5ee56de8face6f6beba803d3c583c9c9f3d9fd21
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 19:37:15 2012 -0700

    Document EAPI 5_pre1.

commit 9b3549dbfccad30a09c4564587a42f1027b4c676
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 19:24:46 2012 -0700

    apply_user_patches: die if EBUILD_PHASE is wrong

commit 98fbf73ba03a048fca37d409092a14472483b6c0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 17:42:11 2012 -0700

    glsa.py: python3: ResourceWarning: unclosed file

commit 0c89363dfe8afd98e67b8916ae8233904026493f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 16:08:16 2012 -0700

    ebuild-helpers/sed: move to bsd subdirectory

    This helps to prevent inappropriate use of the sed wrapper on GNU systems,
    which commonly occurs when users install portage manually during recovery
    situations.

commit 0b657f683f8498de59cf254dfb016bf313930b1d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 15:51:25 2012 -0700

    ebuild-helpers/sed: use -ef to check recursion

commit ca755a56b628c8296630c3e435425b14d3b8bf10
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 15:42:45 2012 -0700

    Eliminate bin/ebuild-helpers/4 directory.

    Instead, just use conditionals where appropriate inside
    bin/ebuild-helpers/* scripts.

commit bb3094fb926910594f26ac3cf246d9aa9f9444d9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Sep 1 13:51:18 2012 -0700

    _prepare_self_update: ignore installed version

    Now portage will unconditionally make a temporary copy of itself during
    updates. This is safer, since it provides maximum protection against any
    possible incompatibilities. For example, suppose that the ebuild has been
    updated to change the location of installed files (such as libdir change)
    without a revision bump.

commit 9f1d501a12514c62efb8cd4afea7a68aaf9b5129
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 31 21:29:24 2012 -0700

    Enable @module-rebuild for 2.1 branch.

commit 821fe40222e75ba08e5456577321fa5d1f12e69a
Author: Gregory M. Turner <gmturner007@ameritech.net>
Date:   Fri Aug 31 09:34:02 2012 -0700

    portageq: clarify meaning of uses_root

    o s/uses_root/uses_eroot/g -- This name was chosen
      before its meaning was changed; update it to reflect its purporse.

    o Fix a left-over "<root>" arg-doc that never got updated to "<eroot>"

    o If a provided eroot argument was shorter than the ${EPREFIX}, portageq
      was truncating it down to nothing and activating relative root,
      which means this became equivalent to an explicit argument of
      "${PWD}/${EPREFIX}/".  This is obviously wrong; and a simple case of
      failing to sanity-check inputs from an interface that changed in a
      backward-incompatible way.

      There's no provision in portageq to query EROOT's that don't end in
      ${EPREFIX}; so if the user makes such a request, instead of doing
      something pathological, dump a helpful error message and bail with a
      nonzero exit code.

    Signed-off-by: Gregory M. Turner <gmturner007@ameritech.net>

commit e7e4c3720582a7ab938266e50e53d162f5248488
Author: Ulrich Müller <ulm@gentoo.org>
Date:   Fri Aug 31 17:10:16 2012 +0200

    EAPI 5: doheader and newheader helper functions

    See bug #21310.

commit c88ae8c651dd8fc032c248af006ce3f76b4466ce
Author: Ulrich Müller <ulm@gentoo.org>
Date:   Fri Aug 31 16:55:16 2012 +0200

    Update years in header.

commit 4d7e4d6c89477f1feb2672a6a32b104287c1383d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 31 07:51:49 2012 -0700

    Fix usex for EAPI 4-python|4-slot-abi.

commit b9e2daded3663c59bf11b04e952bdfb4eb5deabf
Author: Ulrich Müller <ulm@gentoo.org>
Date:   Fri Aug 31 16:24:09 2012 +0200

    EAPI 5: usex helper function

    See bug #382963.

commit bcf4ab871ededc3d535165757ba5597669e33dcb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 30 18:49:10 2012 -0700

    EAPI 5: --host-root option for best/has_version

    See bug #401239 and the PMS patch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=25fb5fca6674215ea8aaa3d0ec3dd3df451eec07

commit f9922394bbb674b04f6bed38c1598e8e2e01906f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 30 09:43:09 2012 -0700

    config.setcpv: fix early ret for IUSE_EFFECTIVE

commit 00144cc82328074c6d190e6848a8b74c13823793
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 30 09:33:04 2012 -0700

    dyn_prepare: init state for apply_user_patches

commit 5e28fe97e67ab4f3e2d8410a8704156b6bb08555
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 22:54:51 2012 -0700

    Remove FEATURES=parse-eapi-ebuild-head

    It's already been enabled by default in stable portage for awhile now,
    so it should be safe to enable it unconditionally. The PMS eapi-5 branch
    also says that it's mandatory to parse the EAPI:

    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=91d1e1e39b034bde7e5b981a5616a127135f37fa

commit 7d7387b34fdfb6ac8e736ca4e73f1e3f8fa1a705
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 22:25:33 2012 -0700

    EAPI 5: econf --disable-silent-rules

    See bug #379497 and the PMS patch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=b7750e67b4772c1064543defb7df6a556f09807b

commit 6b4b621f1abcf21d3bfa54b323126a3ef11eb52c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 22:04:42 2012 -0700

    EAPI 5: User patches (no-op dummy stub for now)

    A real apply_user_patches implementation will be a bit more work, so for
    now we'll just implement the minimum amount necessary to satisfy the spec:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=a8bf7862967cce36b7f1b408934a774126da2538

commit 40ef0fd75e329b789ae1fd98184b89520e9ee0c3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 13:29:37 2012 -0700

    EAPI 5: enable slot-operator-deps

commit 78ba7f0d3a3a2defdf9807ef2e8138965490a2fc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 13:23:22 2012 -0700

    Rename slot-abi stuff to refer to slot-operator.

    This makes it consistent with the language in the PMS eapi-5 branch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=5d6749ac9e5ddc5b1daaad7737b65fa81c6ece47

commit 9f14ed80e65a18da06e0834961ea032e3e830319
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 09:43:32 2012 -0700

    EAPI 5: src_test support for parallel tests

    See bug #363005 and the PMS patch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=3ec4b3c22582a8ec206bce1e93bab377d7b264b5

commit cbd3ea6cad4d7ef8103ddbb71245c1ea47fa49ed
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 09:26:38 2012 -0700

    EAPI 5: EBUILD_PHASE_FUNC variable

    See bug #390765 and the PMS patch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=76ddca560da42fd968c53a2a0c38a6ac840a7ad4

commit 6fc7bc421beb8023fa51ca3d6e504f2565cf1635
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 08:51:19 2012 -0700

    Blacklist IUSE_EFFECTIVE from external env.

commit f76b983e95d022d6f377e3efd599dd8efbd30b3d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 29 00:38:12 2012 -0700

    EAPI 5: Profile IUSE injection

    See bug #176467 and the PMS patch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=d9040ab3482af5f790368bac5d053bf1cd760ba8

commit 1db6048f29dad8da5c74da3143901edd006fc10a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Aug 27 20:19:58 2012 -0700

    Package: skip REQUIRED_USE validation if built

commit 06697b0c3fec6cd5bbdd0a68c93261b2d25781d8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Aug 27 15:16:50 2012 -0700

    Pass eapi to check_required_use more.

commit ac843c3df2210566b559dc57c5fb657e20933a58
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Aug 27 15:13:29 2012 -0700

    EAPI 5: REQUIRED_USE at-most-one-of ?? operator

    See bug #354219 and the PMS patch:
    http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=1c2dff2df2305aff88a734e3a2716de1bb69f3b6

commit fbf6518406ddb79a999b7d1230046ad93adc445d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Aug 26 15:31:01 2012 -0700

    _get_eapi_attrs: handle unsupported eapi as None

commit 8c8dcc663f90f36a81437a711b086ec3bc5d3eef
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Aug 26 14:45:05 2012 -0700

    validate_desktop_entry: filter more kde noise

    This will fix bug #432862.

commit e5034a4ec9153047c756923d49c0969fb4fb8ed0
Author: Ulrich Müller <ulm@gentoo.org>
Date:   Sat Aug 25 23:21:12 2012 +0200

    Whitespace.

commit fc591a3caf67dd73c713af698ea83b53f8c483e0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 25 13:40:10 2012 -0700

    KeywordsManager: fix isStable comment

commit ffe2a5b5f70be05565b5a3038637805319088743
Author: Ulrich Müller <ulm@gentoo.org>
Date:   Sat Aug 25 13:00:51 2012 -0700

    EAPI 5: new* commands can read from stdin, bug 263565.

commit 2ce290c1ff61bb6688f27858ae32db82b0030619
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 25 12:45:21 2012 -0700

    new*: symlink to generic newins implementation

commit a60b86d4af93b066345c8c8cea5c5c91ab26ce44
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 25 12:42:28 2012 -0700

    newins: become generic so new* can be symlinks

commit ebf5d1a64a4a40a0efeba3b038122eef375ace94
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 24 21:11:04 2012 -0700

    EAPI 5 stable use.mask/force for bug #431078

commit 741093a384ff8256965ec4842664216cf911bcb5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 24 21:08:47 2012 -0700

    _pkg_str: pass in config + metadata with KEYWORDS

    This will be needed in order to support stable use.mask/force for bug
    #431078.

commit c74972c6b1e30232ab961f0206cdee81b7e4c5f5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 23 15:29:35 2012 -0700

    prepstrip: avoid debugedit/strip interference

    This will fix bug #421099.

commit 905572230b2f156c10faa619e9e4d76b5540173a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 23 10:10:38 2012 -0700

    config: _eapi_cache.clear() after setcpv

commit c0ac477af61fa107aaececeda2ca888292719e17
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 23 09:55:19 2012 -0700

    read_corresponding_eapi_file: cache results

commit 5335ccb6558f22ddc926714dcba4443cc7333b6a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 22 14:12:31 2012 -0700

    Optimize sys.std* flush code.

commit dbcce475e8dee8b926cb593a9dc285a262edbb82
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 22 13:32:28 2012 -0700

    make.conf.5: s/Hash functions/Hash function/

commit 77cb4022c981c3c6ba96533a55058a643f60d334
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 22 12:46:04 2012 -0700

    Use sys.__std*.fileno() in case of overrides.

    This fixes AttributeError exceptions for API consumers that override
    sys.std* streams pseudo-file objects.

commit 7a55f93d76bab41f025b77fc4e356d6a5b4b9385
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 22 09:23:18 2012 -0700

    EventLoop: handle EINTR IOError for epoll

commit b986bcdd49c5523ffe6972377071d556a819c776
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 21 22:38:57 2012 -0700

    EventLoop: use epoll when available

    This will fix bug #432024.

commit a3185709c7e6fa576ffddac59a9b4ff7e5243e6b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 21 21:01:24 2012 -0700

    _apply_hash_filter: make hash_filter simpler

    Now any callable object will work, which might be helpful for consumers
    of the Manifest.checkFileHashes() method.

commit accee1b7c61da284022f86d9ab39bcb492ea4023
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 21 13:22:19 2012 -0700

    Implement PORTAGE_CHECKSUM_FILTER for bug #432170

commit b696337bf20fdc539ce7721df7a4b42b35999705
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Aug 20 20:29:04 2012 -0700

    PollScheduler: use timeout for loadavg checks

    This ensures that the code from commit
    fe03b5fd790fc09bd6594c55bb174e80aaac1e5a behaves correctly even when
    there are no poll events arriving for a long time (which might happen
    if the running builds don't produce output for a long time).

commit 31b41fe7a20e6e0d19ff2383a746d61d8aa18b50
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Aug 20 13:37:53 2012 -0700

    Scheduler: only use poll timeout when needed

    This avoids wasteful CPU consumption, as reported in bug #432024.

commit fab71caabba4e57ffcbed0651abcee014d1c960f
Author: Dave Kemper <saint.snit@gmail.com>
Date:   Sun Aug 19 14:33:44 2012 -0700

    make.conf.5: warn about PORTAGE_TMPDIR in PORTDIR

    This will fix bug #392565.

commit 604eb9bd43ec035c4e26197ab21cba33b4faa8f9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 22:44:35 2012 -0700

    emerge-delta-webrsync: tweak "recompressing" msg

    FEATURES=webrsync-gpg forces it to recompress in the foreground.

commit 76e037f33eeaa4969bae13c6c23eda40566dca39
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 22:21:40 2012 -0700

    emerge-delta-webrsync: improve date calculations

    This borrows some code from emerge-webrsync, and will fix bug #153513.

commit f55d7ef2b68e42e46e1ddc5747e7e3a75b7e6869
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 21:03:11 2012 -0700

    emerge-webrsync: fix date usage for BSD

commit 9ed46667dbeee834f03c5f40d5231c0695bc4e7a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 16:59:41 2012 -0700

    emerge-webrsync: use ${PORTAGE_TMPDIR}/portage

    For consistency with commit 83e677766650e73071813c0d46547647e5f66029.

commit 93a42092db6209842fc2460f3ea7760bb62a7d55
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 16:20:06 2012 -0700

    emerge-*webrsync: use ${PORTAGE_BIN_PATH}/emerge

commit 47bd1328435d18f5bb7e62a365a420f516816a36
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 16:12:33 2012 -0700

    emerge-*webrsync: fix post_sync for prefix

commit 9bf5900fb2fff77a89b91dd5f38478aaa635ef66
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 15:50:53 2012 -0700

    emerge-delta-webrsync: mktemp in PORTAGE_TMPDIR

    This will fix bug #198362.

commit 49cc97a199f38904ad5ad5a3d496cb796ecac657
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 13:51:28 2012 -0700

    emerge-delta-webrsync: fix make.globals path

commit a695533917d969d66210ce8e2fe8aa88bee42dc7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 18 13:32:00 2012 -0700

    emerge-delta-webrsync: rm -f for non-interactive

    This prevents interactive mode as reported in bug #176008.

commit a98eee34881f9a7180a5e467eaa63435efa890db
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 18:44:59 2012 -0700

    emerge-delta-webrsync: normalize fetch URI

    This will fix bug #124072.

commit 1286c42c9221a87efaafa6017b86a85f5f408036
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 18:27:58 2012 -0700

    emerge-delta-webrsync: PORTAGE_RSYNC_OPTS

commit 76fa7e4b7a28804d42b2fa7f50f9d9bfc73312b9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 18:12:41 2012 -0700

    emerge-delta-webrsync: add -q/--quiet option

commit 9807b6646b8f9ce6d67b03cddfe4b9d0b02288bf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 18:07:15 2012 -0700

    emerge-delta-webrsync: check write permission

    This will fix bug #176008.

commit 87a769bdab8e54c68260996026c87d3d7845d2e6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 17:57:19 2012 -0700

    emerge-delta-webrsync: handle FEATURES=usersync

commit 79674c13905962dc380ea4f951233d4cada32f5b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 17:47:57 2012 -0700

    emerge-delta-webrsync: support gpg verification

    This will fix bug #286373.

    BUG: Signature verification will fail if the local bzip2 program does
    not produce output that is perfectly identical to the bzip2 program used
    to compress the signed tar file.

commit 1c5bda94674222d5ada06c74f5578ea99b7aaf2c
Author: Alexey Solovyev <asoloviev@mail15.com>
Date:   Fri Aug 17 17:32:52 2012 -0700

    emerge-delta-webrsync: remove umd5sum

    This will fix bug #189084.

commit f6b15499b54b9b7766cf3cd4b0a053cff76c9749
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 17:27:18 2012 -0700

    emerge-delta-webrsync: call portageq for config

commit 428ebc470a568c7ec5570a4d1bc547e0918bbd2c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 16:52:45 2012 -0700

    mkrelease.sh: include new misc dir

commit 205f3f187a94a6d297fa1a9d474b839203b09a7d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 16:48:22 2012 -0700

    BashSyntaxTestCase: include new misc dir

commit 44b0faa3b84c1fd39ef72f58677ed3bcd6c82109
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 16:38:40 2012 -0700

    emerge-delta-webrsync: import version 3.5.1-r3

commit 603cb116f857b59fd0f5ec04c5e0bce3db4b4f5d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Aug 17 14:35:00 2012 -0700

    metadata.dtd: update to latest

commit 8aa4f965d3baeaea9dc56938c67bb20d8af835a3
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Aug 16 17:46:58 2012 -0400

    egencache: add a standard -j flags for --jobs

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 196192de5664df4cdd4b3d5221b4b34a00e392e3
Author: Ulrich Müller <ulm@gentoo.org>
Date:   Wed Aug 15 22:50:29 2012 +0200

    Remove tests for deprecated 3_pre2 EAPI.

commit e672b5ccbbbe38eda5c733fc799a20d92a8bdf75
Author: Jan Pobrislo <ccx@volny.cz>
Date:   Tue Aug 14 20:03:23 2012 -0700

    emerge-webrsync: PORTAGE_RSYNC_OPTS, bug #364105

commit b711786c8fe6231a2d33b0a3070355339cbeb36d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 14 19:55:19 2012 -0700

    emerge-webrsync: preserve ownership for usersync

commit a343db38d0e4da0126c33d305386b187a6f00205
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 14 19:00:35 2012 -0700

    emerge-webrsync: check permission, bug #142202

commit 644c0dd5daad47b6392d99c706afaea56e17ee31
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 14 18:03:22 2012 -0700

    emerge-webrsync: add -k/--keep option

commit b0406968448e37b7ec1d3003722cd69b0d406fe3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Aug 13 21:07:42 2012 -0700

    emerge-webrsync: adjust for 00:45 snapshots

    The time changed from 01:45 to 00:45 some time ago.

commit 7d8a1347efcf7b6800c8a9ec765cc87c7b299fda
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 11 15:52:30 2012 -0700

    emaint logs: simplify error output handling

commit 7c6b4d5155832f1370ce375056105c9b2693afd3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 11 14:36:34 2012 -0700

    emaint: cleanup TaskHandler isatty logic

commit a1c6b4cf64735c65ffc64706d0f4e4733cd59562
Author: Nico Roeser <n-roeser@gmx.net>
Date:   Sat Aug 11 12:11:06 2012 -0700

    installsources: fix file permissions, bug #430962

commit 55a7b859d40e6130217cea63a9027730f6780239
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 9 13:34:44 2012 -0700

    emaint binhost: support compress-index

commit f7ec7a4db6543e1fd3a13c341a37ccb667956978
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 8 18:59:21 2012 -0700

    repoman: remove IUSE.undefined check

    This was suggested in the "Don't require assignment of empty variables
    in ebuilds?" thread on the gentoo-dev mailing list:

      http://thread.gmane.org/gmane.linux.gentoo.devel/78806

commit e95a07267c7f642fdca2aca346ab4c12f46748bb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 8 13:34:15 2012 -0700

    bintree.inject(): write Packages.gz atomically

commit 11c0619c63b54346ee5c67cd67ab1ccb24f5f947
Author: W-Mark Kubacki <wmark@hurrikane.de>
Date:   Wed Aug 8 18:49:36 2012 +0200

    Portage writes a compressed copy of 'Packages' index file.

    This behaviour is enabled by FEATURES="compress-index". The resulting file
    is 'Packages.gz' and its modification time will match that of 'Packages'.

    Web-servers use that copy to avoid repeated on-the-fly compression.

    In order to re-use 'atomic_ofstream' usage of 'codecs.zlib_codec'
    has been considered and discarded, because 'GzipFile' yields smaller
    files. (According to Mark's tests 62% smaller.)

    Example usage, Nginx:

      location =/Packages {
        gzip_static on; default_type text/plain;
      }

    Apache httpd (use with caution):

      RewriteRule ^(.*)/Packages$ $1/Packages.gz [T=text/plain,E=GZIP:gzip,L]
      <FilesMatch "Packages\.gz$">
        Header set Content-Encoding gzip
      </FilesMatch>

commit 9168d4c184a16e9b992e22bb5d6f3d88b25309b9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Aug 7 14:04:34 2012 -0700

    Revert "econf: add --disable-silent-rules, bug #379497#c6"

    This reverts commit 1cc39de72ac5311db748341ef9183586556719d9.

    It may be unsafe to call configure --help with some configure scripts,
    as noted in bug #379497, comment #34.

commit 76fcf8c48671e970169de6ae025d7a0a2e75a8a9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Aug 5 13:34:55 2012 -0700

    man/portage.5: note GLEP 37 virtuals, bug #429978

commit 216bbf7eb993ca99d197ba4efa47808f4a7e57fd
Author: Samuli Suominen <ssuominen@gentoo.org>
Date:   Sun Aug 5 13:10:26 2012 -0700

    repoman: libusb virtual.suspect, bug #417123

commit e88d8b8a89a895b646e7d18ad9d6893165978644
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Aug 5 01:13:03 2012 -0700

    elog: enable save_summary:qa by default

    QA warnings still won't be echoed by default, but they will be saved
    in summary.log.

commit 1cc39de72ac5311db748341ef9183586556719d9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 4 14:18:38 2012 -0700

    econf: add --disable-silent-rules, bug #379497#c6

commit 15cd7fa067e68a4b4d2ba7989efa3deab5ce0e10
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Aug 4 12:26:25 2012 -0700

    WhirlpoolAdd: raise TypeError if not bytes

commit d9c77eec3c74c3b22b53911afaf2c167818fbc79
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 2 13:22:02 2012 -0700

    vardbapi: optimize pickle load for Python >=3.2

commit 69a95739d34b9112a60774ede71eea1661b78f2d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Aug 2 12:55:09 2012 -0700

    parse_desktop_entry: fix python3 bug #429544

commit fbeb8101b20e232b2e8c55c9554b5fc9c5c72089
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Aug 1 19:28:01 2012 -0700

    _urlopen: fix python2 http password breakage

    This broke in commit e06cb6d66db37ac7ab77acf65038b1f770c13c96 since
    CompressedResponseProcessor did not include password auth support.

    BUG: The if_modified_since parameter appears to be ignored when using
    http password authentication.

commit 13abe0398fbe724218c8c9ac2597ebe15d7db7e1
Author: W-Mark Kubacki <wmark@hurrikane.de>
Date:   Wed Aug 1 21:12:24 2012 +0200

    Fix index file's mtime, which can differ from TIMESTAMP.

    This enables Portage to reliably query for remote indices with HTTP-header
    If-Modified-Since.

    Without this patch mtime is greater than TIMESTAMP for large indices
    and slow storages - because writing a large file takes time. If the
    difference spans a second (TIMESTAMP 08:00:00, mtime 08:00:01), then
    Portage will always fetch the remote index because it will appear being
    modified (mtime is used there) after the copy has been made (local copy's
    TIMESTAMP is used here).

commit cbebf76d8e5666aad4984f87c2be83d474fe5a7e
Author: W-Mark Kubacki <wmark@hurrikane.de>
Date:   Wed Aug 1 20:36:31 2012 +0200

    Add support for HTTP compression (bzip2, gzip and deflate).

commit e06cb6d66db37ac7ab77acf65038b1f770c13c96
Author: W-Mark Kubacki <wmark@hurrikane.de>
Date:   Wed Aug 1 19:49:34 2012 +0200

    Use If-Modified-Since HTTP-header and avoid downloading a remote index
    if the local copy is recent enough.

commit 0015d40c015cf10c710895d928a70633afb5f3a1
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed Aug 1 01:11:27 2012 +0200

    Use nanosecond precision in chpathtool when using Python >=3.3.

commit 907adbeeb89176c63ad7a04288e080f08f3eb401
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed Aug 1 01:07:31 2012 +0200

    Use nanosecond precision in cache for category directory mtimes and
    cache for cp_list results when using Python >=3.3.

commit e9951cc2d1f39af8222d55385d43e0ad1eeb548a
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed Aug 1 01:02:48 2012 +0200

    Use nanosecond precision in portage.util.movefile.movefile().

commit 19e828fc178f0e55174ae923f6ba9a357fc86885
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 31 15:01:43 2012 -0700

    Check for desktop-file-validate binary.

commit 3836d4ec2da708677826cda1d3ea9f8281bde9c7
Author: Michael Palimaka <kensington@gentoo.org>
Date:   Tue Jul 31 03:18:01 2012 -0700

    Validate desktop entries after src_install.

commit 0c46edc9290a459f693c12fbb34a2f361e40e168
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jul 27 15:46:47 2012 -0700

    get_term_size: handle missing stty command

commit 50a99bba6cdb2cb97b3e65520a86e1da322460e7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jul 27 15:40:16 2012 -0700

    get_term_size: pass fd to stty

commit eb828d037bb400f11d0b18a75f7c9ab0559ff737
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jul 27 15:22:47 2012 -0700

    get_term_size: pass fd to curses.setupterm()

commit d4765af29cbadd1d54beacebab3eaae546d31d18
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jul 27 15:09:58 2012 -0700

    get_term_size: handle temporary stdout overrides

commit d938c3ff0a4ef92451cf6381aeb23a6c2d9ad8f2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jul 26 19:42:51 2012 -0700

    _selinux/spawn_wrapper: setexec *after* fork

    This avoids any interference with concurrent threads in the calling
    process.

commit efb58888bc3900d42c24db9f7ff9f820e93eeb57
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 24 11:34:39 2012 -0700

    Makefile: drop /etc/make.globals sym, bug #427862

    Any consumers of /etc/make.globals can be fixed to use
    /usr/share/portage/config/make.globals directly.

commit 3e853835a8097fe80866ebe7d6666cdbb132683b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 23 10:45:28 2012 -0700

    make.conf: clarify -frecord-gcc-switches

commit 679747aba189dfc0b24bc37ebb23268f799c8a41
Author: Corentin Chary <corentincj@iksaif.net>
Date:   Mon Jul 23 09:46:26 2012 +0200

    output: allow to use stderr in TermProgressBar

commit 9e19ac0a16a57f3dded8124e650fb6bf6f3d00be
Author: Brian Dolbec <dolsen@gentoo.org>
Date:   Sun Jul 22 17:50:39 2012 -0700

    emaint: split into separate modules

commit 8f9ba227869775cf7f35037283e88e4cee047703
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jul 22 15:05:53 2012 -0700

    TermProgressBar: fix broken ref to "image" var

    Broken since commit 0623e44a500125064525413404948af9179747a9.

commit b5f4e8956e5b790d5bfcb14b3d9aabe46347e716
Author: Federico "fox" Scrinzi <fox91@anche.no>
Date:   Sun Jul 22 14:52:01 2012 -0700

    get_term_size: check if sys.stderr.isatty()

commit a1dba60bc5b194cc868d73ae2fb3c046c0869fe1
Author: Ian Stakenvicius <axs@gentoo.org>
Date:   Fri Jul 20 13:15:57 2012 -0700

    ebuild.5: fix (-) use dep example for bug #427384

commit bed3e06406fd63abc5d37a687494056062129851
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 18 15:31:07 2012 -0700

    slotmove: update comment about EAPI 4-slot-abi

commit 30ec783c0fc64a02fda38980bded22dc0055a42d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 18 14:38:09 2012 -0700

    Fix extended atom match for =* operator.

commit 2472be18586f41c6e74a6d1f6a88c17a415eca9b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 18 14:07:09 2012 -0700

    match_from_list: match slot for extended atoms

commit d134e60407c65b04fd57fea3016cf9ba9e8c5236
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 18 13:23:38 2012 -0700

    etc-update: fix --automode -5, bug #427068

commit 3e84557b91b43ea6924bbab8a3d477509513cac8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 18 12:55:16 2012 -0700

    Support =*/*-*9999* wildcard atom, bug #402197.

commit ed4e91f0473b5cfcbb1d6de22991bbf3e270a6e3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 18 10:19:07 2012 -0700

    depgraph: __auto_rebuild__ KeyError, bug #427036

commit b5956d62d08882a8565d3ef98afa3a1d65090cb7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 17 18:42:10 2012 -0700

    portage.update: use isvalidatom for EAPI check

commit 8657622137cbc88e161296b2f35d264e0f52dd45
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 17 17:05:31 2012 -0700

    tests/update: fix whitespace

commit 2df06cb95c1f97a470034bf2be73869256633685
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 17 16:52:48 2012 -0700

    move: respect EAPI wrt dots_in_PN, bug #426476

commit 9ea1eb84c6c2cd91e31196471ec8ad4339988611
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 17 15:21:04 2012 -0700

    Propagate EAPI for update_dbentry (bug #426476).

commit 484d2df3fb2f65414746dbb85fa81d99f374648f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jul 15 14:29:20 2012 -0700

    prepstrip: avoid rm warning about cwd

commit d6ef1ef4f77e5cae859a5becdc8388f6b2773956
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jul 13 18:40:20 2012 -0700

    test_move_slot_ent: workaround for 1s timestamps

commit dde6df65ecbc522dc23cb8d24be3e4dd52657da8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jul 13 16:33:49 2012 -0700

    slotmove: fix handling for EAPI 4-slot-abi

    This is just a really minimal fix, in order to prevent slotmove from
    behaving incorrectly with packages that use EAPI 4-slot-abi. Any slotmove
    commands that try so specify a sub-slot are treated as invalid for now,
    since that will required additional EAPI conditional logic, as reported
    in bug #426476.

commit 4f1558ec085d4d1716faf8558741aad2e542463f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jul 12 13:58:30 2012 -0700

    vardbapi: use float mtime for aux cache

commit 09fa35229c35f9f93833192cebda38c2949b0392
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jul 12 12:54:06 2012 -0700

    manifest: remove unused mhashes variable

commit 63e25313d785f40abff3197fe0f3a3eeaa617f7d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jul 12 12:48:49 2012 -0700

    Skip whirlpool digest check when unaccelerated.

    If multiple digests are available and whirlpool is unaccelerated, then
    skip it. This allows extreme performance problems like bug #425046 to be
    avoided whenever practical, especially for cases like stage builds where
    acceleration may not be available for some hashes due to minimization
    of dependencies.

commit 48497bca12ac8b52740681a7a10200f0a58345ea
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 11 15:13:18 2012 -0700

    tests: support NOCOLOR env variable

commit fdda543b51dde02483a40b9f867a35fc3521a135
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 10 15:50:36 2012 -0700

    Fix --complete-graph-if-new-use for --autounmask.

commit c42591b5d0484459837da28482f70fad9ff13824
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 10 15:45:12 2012 -0700

    emerge: add --complete-graph-if-new-use < y | n >

    Trigger the --complete-graph behavior if USE or IUSE will change for
    an installed package. This option is enabled by default. This will fix
    bug #425558.

commit 8639e39d6c13306661261a3cb66c6827bcd2d26c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Jul 10 01:41:48 2012 -0400

    ebuild(5): note that keepdir/dodir accept multiple paths

    Current documentation indicates these only take one path, but they both
    accept an arbitrary number of paths.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0177e7d1aa9267897032d7a4c7de9c6968c5072d
Author: Brian Dolbec <dolsen@gentoo.org>
Date:   Mon Jul 9 17:04:58 2012 -0700

    migrate emaint to use the new title and label features of the progressbar.

commit 0623e44a500125064525413404948af9179747a9
Author: Brian Dolbec <dolsen@gentoo.org>
Date:   Mon Jul 9 17:04:14 2012 -0700

    fix a couple more inconsistancies in the progessbar title, label changes.

commit 108559b3df8ef31072c53afe07d4005f496caffb
Author: Brian Dolbec <dolsen@gentoo.org>
Date:   Mon Jul 9 14:49:55 2012 -0700

    TermProgressBar: Fix to do 80 chars (not 81)

commit c0bfa14ff884cd956440984a9bb7bf59b88f696d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 9 14:03:01 2012 -0700

    PORTAGE_GPG_SIGNING_COMMAND: --digest-algo SHA256

commit 83b7af059a9b02c868238e829be2f0d18b631ded
Author: Brian Dolbec <dolsen@gentoo.org>
Date:   Mon Jul 9 13:34:26 2012 -0700

    apply Federico "fox" Scrinzi progressbar additions of title and label
    display. Fix a couple bugs and add max_desc_length param.

commit 138e6030a70ca3ffe4f2da8fa9f8f5a913e0ccd8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jul 5 23:43:43 2012 -0700

    PORTAGE_GPG_SIGNING_COMMAND: --digest-algo SHA512

commit 31beb09d14dc29b84a234fc9fa8f44e42a6c4204
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jul 5 01:45:10 2012 -0700

    SlotAbiEmergeTestCase: test new downgrade code

commit 89b1eabbbe99cf2d45a1f6d01ce1ffdadfae0ebf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 4 20:28:42 2012 -0700

    vartree.py: fix stutter in comment

commit 02bcf332a88bbf25b9e0391b1a6d781ab4bbe0b9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 4 20:16:40 2012 -0700

    Rebuild for slot-abi downgrades, bug #424651.

commit 0f700f0b38868502cea0324712f34696e54b175d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 4 17:38:34 2012 -0700

    ConfigTestCase: fix warning about manifest-hashes

commit f9d725d5f5f71e77803c44cc0701c846ae44b2aa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jul 4 17:20:27 2012 -0700

    const: Adjust MANIFEST2_* for new defaults

commit f736935de2bb1370524302d9cfe915c16d922bb9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 3 14:52:20 2012 -0700

    emerge: more helpful "non-existent set" message

commit 9145dab7ffcc69a91b7f4a6378e991057d0daab7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jul 3 14:35:19 2012 -0700

    emaint: remove obsolete world category check

    The reason for this check, as discussed in bug #166785, is no longer
    relevant since emerge does not suggest to run `emaint --check world`
    in this case anymore.

commit e9aff636fa22ca91f47a3c5b0955e8e7baee5d6a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 2 16:11:45 2012 -0700

    Atom: tweak indent for slot logic

commit cd6cc7631ac4930bfd89fd56d02e80c6a912ff96
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 2 15:27:28 2012 -0700

    Fix unmerge-backup/preserve-libs interaction.

commit e4e04d20a81ed35d5732f683f2001ea0b3af77c0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 2 14:41:19 2012 -0700

    _pre_unmerge_backup: show failure message

commit f38b58535453a54c4784617da4aca389cc3dedd8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 2 14:34:40 2012 -0700

    portage.const: tweak preserve-libs conditional

commit 47029cd18764795a4c2cff1f985c56c87ca07ed9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 2 13:27:57 2012 -0700

    Atom: evaluate_conditionals slot-abi, bug #424489

commit 7d6a0bc558bdfe5c3ca2b6e1638d1d4f31d2d8e1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jul 2 12:13:54 2012 -0700

    Don't use SIGUSR1 under Jython, bug #424259.

commit 77703d4f3660374068c275369670dcfe9c2f4131
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jul 1 13:07:27 2012 -0700

    _quickpkg_dblink: set PYTHONPATH for quickpkg

commit e26ac28af7a6dc4cff2bf00737841d14dea669a5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jul 1 01:11:12 2012 -0700

    Fix bugs in binarytree.invalids usage.

commit f807bb54317db5f8073f8904897cf4b9d87bf2cd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jul 1 00:53:52 2012 -0700

    Support FEATURES={downgrade,unmerge}-backup

    This will fix bug #156282 and bug #424275.

commit d44df83d9f00405a62b25439ddc1915e6366a300
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 30 13:50:01 2012 -0700

    man/emerge.1: note that --resume re-uses options

commit 04ceb27d0813a3cd3df3451aba07007deff704fb
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri Jun 29 16:41:17 2012 -0400

    ebuild(5): add missing bold around EAPI {3,4} mention

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 54932ac1af5761fd055e90b358d380e828a95d54
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 27 15:45:19 2012 -0700

    egencache: prune empty cache directories

commit 69ae09d8fce2ed23c4eca7b7af83a3b47626795e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 27 14:55:49 2012 -0700

    BacktrackParameter: fix runtime_pkg_mask copy

    This caused the backtracker to bail out too early sometimes.

commit bb112d9e0e0e9fb60cbe713887ab88454d5943fe
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 27 10:19:36 2012 -0700

    slot_conflict_handler: handle slot_abi

    We have to distinguish this from the "version" conflict, in order to
    avoid invalid vercmp calls when there's not version.

commit 21ef745c11538e294f0946f2a40812971652b40c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 25 14:28:31 2012 -0700

    _slot_abi: fix broken function refs

commit 6d771951a3df2ec399d0a999debefb33a825d27b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 25 10:41:11 2012 -0700

    whitelist PORTAGE_DOHTML_WARN_ON_SKIPPED_FILES

commit c92b3b0fcccd61af78b3777e863938abe9f2ac34
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Mon Jun 25 06:12:01 2012 +0200

    dohtml: Support PORTAGE_DOHTML_WARN_ON_SKIPPED_FILES environmental
    variable.

commit 4ef716471e4879833cc3804d81bebf1bfa5e24fb
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Mon Jun 25 04:37:27 2012 +0200

    dohtml: Add .ico, .svg, .xhtml and .xml extensions to default list in
    EAPI="4-python".

commit df83006f70ca0b0d5ac057e04598e07e08919429
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Mon Jun 25 04:08:25 2012 +0200

    Reformat documentation of EAPI="4-python".

commit d58624b74ee24d01e519e8ebb5c979fe4735faa4
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Mon Jun 25 03:25:10 2012 +0200

    dohtml.py: Sort default list of extensions.

commit 324bf88228b7be64814e99dd96ad73a204a5df63
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 24 14:01:26 2012 -0700

    protected_symlinks: suggest course of action

    See discussion in bug #423127.

commit 542907e8e21b3a2a155d31095b63a1821354c1c7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 24 12:16:34 2012 -0700

    protected_symlinks: change eerror to elog

    Since bug #421165, this code will trigger more often (see bug #423127),
    and eerror is too harsh because the symlinks will never be orphaned.

commit fe03b5fd790fc09bd6594c55bb174e80aaac1e5a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 24 01:18:12 2012 -0700

    PollScheduler: schedule inside loop if max_load

    This will fix a case like that reported in bug #403895, triggered when
    the --load-average option is used.

commit 7216350dc54b891d1909ffa7d9fceb52f1de04a7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 23 14:53:13 2012 -0700

    test_slot_abi: fix atom == type

commit e0fa8f389867d78438451ed4a8b1af1ea89b65b6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 23 13:39:27 2012 -0700

    Skip unmerge of libdir symlinks for bug #423127.

commit fc371676a0eb555321a77207321bdeab6e746c87
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 23 13:03:28 2012 -0700

    Fix debug message wording of "to due".

commit f526e28f6151611a51a858c87ac2319e48f54e7f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 23:38:35 2012 -0700

    slot_abi_mask_built: fix __eq__ for backtracking

commit 22b8c653bbb09570b428f7f744a267feb30bf4f1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 23:28:10 2012 -0700

    Slot conflict "abi" backtrack nodes non-terminal.

commit d15e3dded958eebdb52c7370e28a62002b70dfe3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 22:59:51 2012 -0700

    slot_abi_mask_built: don't discard other masks

commit 5497c9f1443f1f615f145ee645f17959ed20168c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 22:10:14 2012 -0700

    Fix success_without_autounmask logic wrt rebuilds

commit fa68712ab045dce1d0e50d9252e02329d2d9f75b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 20:01:43 2012 -0700

    depgraph: fix broken _complete_mode assignment

commit 95193ff95c8268bdd61824214122c972940fdea2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 19:46:52 2012 -0700

    _slot_abi_update_probe: respect --exclude

commit 04f6d3402f671aae275a0408ee2a6cdd9cd74e7a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 19:35:42 2012 -0700

    depgraph: fix bugs in force_reinstall handling

commit 165ba13a74452fe52b24f5dd3724fe48190f3234
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 18:23:20 2012 -0700

    Package: save validated_atoms as tuple

commit f5eaf5de4dd342e939dbeda02c9b6e2c12dc1fa2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 18:13:56 2012 -0700

    treewalk: fix USE=multislot breakage

    It broke in commit e4ba8f36e6a4624f4fec61c7ce8bed0e3bd2fa01.

commit c28d55d9f49fce96cdbbef55fc49ac3f66d40193
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 18:01:29 2012 -0700

    test_match_from_list: test slot-abi more

commit 2653d3cca6fcf7ef3e9b17a8012a157eb4cea913
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 17:52:20 2012 -0700

    NEWS: 2.1.11: experimental EAPI 4-slot-abi

commit 603e472f389b02e1c4a68b701a79d5d0a932765f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 17:45:32 2012 -0700

    man/portage.5: profile-formats = portage-2

commit 1bb93d248e380c9c8121d01df15a387068f0c0bc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 17:38:45 2012 -0700

    RELEASE-NOTES: 2.1.11: User-defined package sets

commit 5f252c72350e1671ad01630e90d5acb2226629e3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 17:29:39 2012 -0700

    Document /etc/portage/sets and world_sets more.

commit c5142aadedee5b1917607f10d5018b763ef2419b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 16:49:46 2012 -0700

    Enable /etc/portage/sets for stable, bug #384061.

commit d1a59831eb2a5205d050884c760cca1d73be8fdf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 15:33:07 2012 -0700

    Add UNINSTALL_IGNORE variable for bug #421659.

    UNINSTALL_IGNORE = [space delimited list of fnmatch patterns]

    This variable prevents uninstallation of files that match specific
    fnmatch(3) patterns. In order to ignore file collisions with these files
    at install time, the same patterns can be added to the COLLISION_IGNORE
    variable.

commit e4ba8f36e6a4624f4fec61c7ce8bed0e3bd2fa01
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 02:59:53 2012 -0700

    Add experimental EAPI 4-slot-abi support.

    Refer to 4-slot-abi.docbook for a full description.

commit 19123d07f93bff6833848774812de882e7be9960
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 02:45:36 2012 -0700

    fakedbapi: use _pkg_str more

commit 003e95562216045408d8d2dd09afeac2311383fc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 22 00:18:11 2012 -0700

    getportageversion: handle repo: in parent file

commit 330663fa23dc8da228789c984e442430d90035a0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jun 21 15:32:16 2012 -0700

    ResolverPlayground: fix repo for binpkgs

commit 3af7776a79fed618a9111d41e0c835deb02f960a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jun 21 14:58:02 2012 -0700

    action_build: always display_problems

commit e232dfec84dbd2506616ffd39b3d11fa7b2f1d22
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 21:42:49 2012 -0700

    resolver/output: cleanup counters

commit 7a294d7fdc75ef71823c84f46e868326d308d638
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 18:02:22 2012 -0700

    InheritEclass: add user esethome func

commit 5d2147c6dab5869ebdd0c27fa2e0b71513057da0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 16:01:01 2012 -0700

    depgraph._complete_graph: old virt sanity check

commit 131b3b6718baa058f06d4f0ac8f919f717ae5338
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 14:56:49 2012 -0700

    misc-functions.sh: unwrap die messages

    Jeremy Olexa <darkside@gentoo.org> complained that die was not handling
    these line continuations as it's supposed to. Maybe there's a bug in
    die's line continuation sed expression, but it won't hurt to unwrap
    these particular messages.

commit e1395684931a0c5991248435f1d47ff0425d326d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 14:23:47 2012 -0700

    backtracking: only feedback first slot conflict

    Only create BacktrackNode instances for the first conflict which occurred,
    since the conflicts that occurred later may have been caused by the
    first conflict.

commit fd66f626a5047972439c7aabcb57a7383b0f03cb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 03:05:26 2012 -0700

    ResolverPlayground: distinguish uninstall merge

commit 58077c76a911a3ab5bdea0a30a3bd192faaf12e0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 02:51:32 2012 -0700

    ResolverPlayground: distinguish binpkg merge

commit 217710df4570af5c36a53c144647e0d95c4ff2a8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 02:02:55 2012 -0700

    ResolverPlayground: support binary packages

commit 0f16a6aa3e7e1f9a601eee88e117fbd141735828
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 20 00:00:28 2012 -0700

    Atom: cleanup str()/unicode() usage

commit fbc46ae218e70401749f43e5f99a17a0b04a0ff4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jun 19 21:30:00 2012 -0700

    depgraph._iter_atoms_for_pkg: fix for --rebuild-*

    The SetArg instances that are generated for --rebuild-if-* behvior need
    to be passed into _set_args() in order for _iter_atoms_for_pkg to be
    aware of these arguments.

commit 7fdb5d855e9bd97825c1886e9788ecb1539e7759
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jun 19 14:27:11 2012 -0700

    depgraph: optimize slot conflict backtrack order

commit 40a8c90fb0d7ba1b057858bf06928f6b19ab1f7f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 18 17:40:04 2012 -0700

    depgraph: defer slot conflict backtracking

    Defer slot conflict backtracking until after _complete_graph is used
    to complete the graph, so that all relevant reverse dependencies are
    available for making informed backtracking decisions.

commit 49ee1ca5ea9868f2f4feefcc9e72edb0dffff4c8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 17 12:44:56 2012 -0700

    depgraph._add_pkg: preserve previous pkg depth

commit eb401abc6a140aca85fc93c1744bc371f10ada10
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 17 10:52:28 2012 -0700

    depgraph: use package sets for rebuild/reinstall

commit 525988ac9a74c75dff19a89887c44ea280628d3f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 17 09:16:15 2012 -0700

    DependencyArg: add __slots__

commit 4cd3da7f48b74abfc48d36cf2c700c4eebfcbb40
Author: Sergei Trofimovich <slyfox@gentoo.org>
Date:   Sun Jun 17 11:42:51 2012 +0300

    repoman: add 'VIRTUAL.suspect' class of warnings

    Searches all the *DEPENDS against static map of:
        { 'package' : 'virtual' }

    Example output:

    >  VIRTUAL.suspect               1 >
    dev-haskell/cabal/cabal-1.15.0_pre20120608.ebuild: consider using
    'virtual/pkgconfig' insted of 'dev-util/pkgconf'

    Signed-off-by: Sergei Trofimovich <slyfox@gentoo.org>

commit a4ea52918c3cccaf2459fa2264ab0219071de70a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 17 08:22:00 2012 -0700

    grabfile_package: show real file name in error

commit 30b25033e67d2285f165d12e25903ea2cabf0235
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 16 21:58:38 2012 -0700

    _process_slot_conflicts: do one slot at a time

    This allows us to avoid redundant processing of slots that have already
    been processed by a previous call.

commit 5122b9e5f3849a94bab73fd936ca95255af6ff59
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 16 20:06:36 2012 -0700

    depgraph: split out _handle_slot_conflict method

commit d3d4787ae25dc166f63cfabab97c4b8d70bf67ac
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 16 13:27:30 2012 -0700

    depgraph: simplify _select_pkg_highest_available

    This hunk of code is no longer needed since the content of
    _highest_pkg_cache is discarded each time a package is added to the graph.

commit 66c41adb5505545fde9654e196fd803c3e6c1c5d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Jun 16 13:24:12 2012 -0700

    depgraph: _autounmask in _highest_pkg_cache key

commit 3833fd198efb1a8b90f15903f92676fea5cf9554
Author: Sergei Trofimovich <slyfox@gentoo.org>
Date:   Fri Jun 15 21:10:25 2012 +0300

    repoman: warn about every 'pkgconfig' implementation in RDEPENDs

    Signed-off-by: Sergei Trofimovich <slyfox@gentoo.org>

commit 0c29f1531fe9787cd1bd96fcd5c34ec5e6128aa4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 15 16:42:44 2012 -0700

    Unmerge symlink listed as dir for bug #421165.

commit b363b5342ac918f06e8752e702e68363d1388cdb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 15 16:03:59 2012 -0700

    Add USE + license autounmask for bug #420847.

commit d1a7dc427d000f5b5e85d5dc5cfa449346bdd7d4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 13 17:23:54 2012 -0700

    test_autounmask: add case for bug #420847

commit 811236c327fa58ca2b8f643fd641ff89d2437115
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed Jun 13 19:44:44 2012 +0200

    Fix test failure with Python 2.6.

commit 3febf0aa9bfb2483565b464399aa5d6df17dddc4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Jun 13 03:15:23 2012 -0700

    runtests.sh: add pypy-1.9 to PYTHON_VERSIONS

commit bb440128bdf47cbec0789b1e9453ca726ad3dd50
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Jun 12 18:07:58 2012 -0400

    repoman: handle trailing newlines better

    Automatically strip trailing newlines from the ChangeLog, and be better
    about not adding them in the first place (still not perfect, but getting
    there).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 84b1cdcf057576bf59d2f038609e8b32995f3231
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Jun 11 16:16:59 2012 -0400

    repoman: update cat/pkg info in header all the time

    There are edge cases where repoman's changelog code is not as good
    as the existing echangelog.  Mostly related to out of date headers.
    Have the code check the header in more cases not just for missing lines,
    but also outdated values all the time.

    While we're at it, write some tests!

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 04b2e10ee87e4a09543d0b45d54dbcc9c4c990c8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jun 12 00:21:57 2012 -0700

    test_match_from_list: fix _pkg_str usage

commit 9a49a7c4189c55d2105ddf21b12321e7da3bf415
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 11 23:40:52 2012 -0700

    dbapi: construct _pkg_str during match on-demand

commit 8063586060f7d4abfa02639ba72c0e9b38ed634a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 11 19:18:15 2012 -0700

    repoman: tweak code for bug #420735

commit 3a1575118627e0145cda09e93f5a076f3ec66feb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 11 19:00:09 2012 -0700

    config: pass tolerant param to getconfig more

commit 908de31ae2049eef02432d73478a403ffcad1ead
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 11 16:23:59 2012 -0700

    repoman: Manifest after ChangeLog, bug #420735

commit dd340e4492adc2377ebff566b5897facd234ec11
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 11 16:08:21 2012 -0700

    Move post_src_install metadata code to one func.

commit 3f7885e36e14a3947de5895a511d36a7039a91ca
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 11 15:37:30 2012 -0700

    QueryCommand: add get_db() classmethod

commit c0af31c9f216c86719486a8568aa07e6f32e4fc8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 22:32:24 2012 -0700

    Package: move SLOT validation to _pkg_str

commit c864dd8d26ecc2144fd7e0ae56d12519f94dbd99
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 18:15:07 2012 -0700

    Add a _get_slot_re() function.

commit b6ecc428a7e04afa3449df6a6844978eeb40d569
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 17:58:14 2012 -0700

    Package: use _eapi_attrs

commit 0fc39028b10cf6a060c13be888d7ad1a8c488f58
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 16:41:25 2012 -0700

    _get_pv_re: use _eapi_attrs

commit 8625d3282ec860b795d75322565a95bb4c2e9673
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 16:18:15 2012 -0700

    dep: remove old "DEPEND SYNTAX" comments

commit daa04443e97f62555efd4a2a301103a27b7579b7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 16:16:25 2012 -0700

    use_reduce: use _eapi_attrs

commit 07fbd0a29455f2e74c66b37f30c62a7ddb0c5571
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 16:05:21 2012 -0700

    _get_eapi_attrs: move to eapi module

commit 997ad61268b950ad3ae2ead88327d8bc71fedeb5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 15:43:40 2012 -0700

    dep: move regex constants to top of file

commit 78e30816903b489106885232c55a2717b51986f8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 15:37:06 2012 -0700

    _get_atom_wildcard_re: use _eapi_attrs

commit 2a5d810445fa819ce64218b17dc70b3228cd61c5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 15:20:23 2012 -0700

    _get_atom_re: share cache between more EAPIs

commit 7e22e1e4c339890c4ca132bdbd46bd12edc6370f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 15:16:03 2012 -0700

    _get_useflag_re: use _eapi_attrs

commit 9255afd8c6398ce4a58beaff9285fcc3b96a2713
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 14:51:25 2012 -0700

    _get_usedep_re: use _eapi_attrs

commit 227b7f4287b758efa3ee25d13abcd21780885b83
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 14:08:14 2012 -0700

    Atom: use _eapi_attrs in constructor

commit ff8d4c0fe3c91ae739e3e6518e90c0e8b0fe35d0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 13:48:24 2012 -0700

    _get_atom_re: handle many combinations

    A namedtuple of _eapi_attrs is used to hash atom regular expressions,
    making it easy to handle many different combinations, as will be necessary
    for the addition of new features such as abi-slot deps.

commit d6584f5ef8eb65bf0c818a0ab2f9b008663d758e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 10 01:24:59 2012 -0700

    cache/sqlite.py: dynamically add columns to table

commit a199763028a451389a92b8e58cab20cda83710b5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 8 19:03:42 2012 -0700

    InheritEclass: avoid false positive in func regex

commit 50e4d62e296c2579682d2cf11a29ada83c1323db
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 8 15:08:19 2012 -0700

    depgraph: pass use_reduce result to dep_check

    This allows us to avoid extraneous use_reduce/paren_enclose calls.

commit dcdfed5f9487f4232affc156518e05e00c10da5f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Jun 7 19:51:48 2012 -0700

    InheritEclass: avoid false positive in func regex

commit 9dbf4d7d7fb7c6d0284cc25d8322dd84292d6dd9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jun 5 18:35:35 2012 -0700

    repoman: try to sign Manifest only if it exists

    This case occurs with "thin-manifests = true" in metadata/layout.conf when
    there are no distfiles (like for live ebuilds), as reported in bug #419717.

commit 9e11086e9ec14b138f291eb501a81965e87be781
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Jun 5 17:11:00 2012 -0700

    parse_layout_conf: fix cache-formats pms fallback

    This fixes an issue where egencache would not generate metadata/cache
    unless the directory already existed.

commit 2c50bd9a82c3bb6dfbc63466ae8bfbd401fb3235
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 4 15:22:21 2012 -0700

    helper-functions.sh: multijob support bash <4.1

    The redirect_alloc_fd() compatibility function is borrowed from Mike
    Frysinger's proposed multiprocessing.eclass:

    http://archives.gentoo.org/gentoo-dev/msg_5ecd3b1dd0720522807c136d8fd2cd5f.xml

commit ee3bf6f9773c0afbd494c657d253241f79d98044
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 4 14:59:12 2012 -0700

    Handle more import exceptions involving xml.

    See http://bugs.python.org/issue14988

commit de996b1dd411bc2bc0363890dc284534d747174e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Jun 4 13:34:09 2012 -0700

    repoman: fix _mask_manager assignment

    This broke in commit 09980f19e584b644b9e2cf4d5e1e0369b6062ca1.

commit cb942014acf8323d55d4e5dad3637cf231645d91
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 3 21:06:10 2012 -0700

    InheritEclass: exempt auto/libtool for multilib

commit 7372606cb28005eec386f02fa831bdfbb45de867
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 3 20:25:10 2012 -0700

    InheritEclass: exempt autotools for libtool

commit 5b723290dfc9b643fec3c437fb5f39ee2ece1a6f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 3 18:19:10 2012 -0700

    Package: calc visiblity on demand

    This delays visiblity calculations until after FakeVartree applies its
    metadata tweaks, so commit 650c960be3170bade8bb63ddedcd4796c75ec374 will
    work as intended.

commit 650c960be3170bade8bb63ddedcd4796c75ec374
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Jun 3 17:36:28 2012 -0700

    FakeVartree: use KEYWORDS from unbuilt ebuild

    This allows us to avoid triggering the code from bug #350285 (see commit
    b7de3d1fb10e40b4ef03462f8a145968689ac587) in cases when the KEYWORDS
    from the unbuilt ebuild would unmask the package.

commit f75fed63cb0256505d684ce524d65c9086af0879
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Jun 3 08:34:34 2012 +0200

    Delete workaround for http://bugs.python.org/issue14007.

commit 74dbce53d3f44fc0065ddac6a640f15ff369a89f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 23:45:18 2012 -0700

    ebuild.sh: export EAPI for helpers

    This fixes some cases where it wouldn't be exported since commit
    20817801dd4ef0117bcc7b33c90650da1e920385.

commit f160c636e6b6fd4388534a2483e33b4a241bd1fe
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 23:24:10 2012 -0700

    InheritEclass: remove unused inherited_api code

commit f32f9308393fe9e6ef9143ac852479ec63bc8a70
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 23:21:49 2012 -0700

    InheritEclass: exempt eclasses that export src_*

    We really need to annotate exceptions like these directly in the eclasses,
    but hardcode them for now.

commit f04e6dbd3d6791f00752518ca59751607f8f36cc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 23:19:14 2012 -0700

    repoman: inherit.missing non-fatal (experimental)

commit 54410a15b2c6c01121330361da9583c3902c44a8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 22:14:33 2012 -0700

    InheritEclass: kde4-base exemptions

commit 2959902eb75c4af024909efdb13db497351362b8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 21:52:17 2012 -0700

    InheritEclass: add stable / conservative mode

commit 9b2e4d5a48e17ae1a637c6de7a311cd9055dd02e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 21:06:14 2012 -0700

    ecompressdir: fix brokenlink newdest logic

    Was broken in commit bbacf8674168cf033de0ccb161f568d0b26f032b.

commit af0be826f318a2167786e5d9359b80f8537ca07c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 20:05:41 2012 -0700

    repoman.1: document inherit.missing/unused

commit b17278ae9a6d56dd563bf71a389d80a7f5c71daa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 19:55:21 2012 -0700

    config: whitelist PORTAGE_COMPRESS, don't save it

commit 27d7b258d23069f874ad8eceb35f58829cee85f3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 19:45:37 2012 -0700

    ecompressdir: avoid ecompress.break interference

commit bbacf8674168cf033de0ccb161f568d0b26f032b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 19:36:52 2012 -0700

    ecompressdir: fix ln -s for bug #418309

    This fixes parallel funk_up_dir decompress calls so that they don't
    inappropriately compete with eachother to fix the same broken symlinks.

commit e6d387610ce692dfef3c6a3fc549d29863410176
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 19:28:31 2012 -0700

    ecompressdir: fix funk_up_dir return value

commit 415636896a148cac2c6f4406d80c669feb780f5e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 17:13:13 2012 -0700

    config: lazy VirtualsManager instantiation

commit 09980f19e584b644b9e2cf4d5e1e0369b6062ca1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 15:51:10 2012 -0700

    config: lazy MaskManager instantiation

commit b03ed0de134456870c0361dd573e18830c45fa49
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 15:12:02 2012 -0700

    config: lazy KeywordsManager instantiation

    This allows a config instance to be instantiated by portageq, while
    accessing /etc/portage/package.keywords only on demand, solving bug
    #418475 by avoiding PermissionDenied exceptions when possible.

commit 9f782a2c115acbeac863eb1c0ac8ef5e84874d73
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 14:43:41 2012 -0700

    portageexit: skip SANDBOX_ON check

    This check is redundant, since the portdbapi constructor already has
    special SANDBOX_ON / SANDBOX_WRITE handling.

commit 9ed7bf27424890320b933e5d913804738d358bf1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 14:30:37 2012 -0700

    grablines: raise PermissionDenied if appropriate

commit 1ecb54ad4392473130f6ffdab1ba6e7105031c76
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Jun 1 14:27:46 2012 -0700

    portageexit: skip secpass check

    The portdbapi should handle secpass already internally, and access to
    secpass here can trigger unnecessary instantiation of a config instance
    via the portage.data module.

commit 033084fd96d2a92e4dbfd952bf8c68301e435437
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 31 20:31:37 2012 -0700

    InheritEclass: base and cmake-utils exemptions

commit d9f8332397f77c7efdbd53082672c641bc19a0fc
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu May 31 23:15:55 2012 -0400

    make.conf(5): document PORTAGE_{GRPNAME,USERNAME,INST_UID,INST_GID}

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 42297ec38d291165527ea4d5124638ce084cb15c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 31 19:23:30 2012 -0700

    InheritEclass: support inherit after && or ||

commit a54ee82de8bb657017f6bc6407676930396f160f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 31 15:27:23 2012 -0700

    InheritEclass: exempt vim for eutils

commit 6d3873a690ccdf47f1d5c3f83fc8dbef92f5a9f1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 30 17:59:03 2012 -0700

    InheritEclass: fix autotools for polylib-9999

commit 7acbff42e2ff9a4521efb7fbf2cb69f17944b53c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 30 16:56:33 2012 -0700

    InheritEclass: support subclass inherited_api

commit 597826a1cabf654f9b3fff88425d04303e921577
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 30 16:20:27 2012 -0700

    InheritEclass: move eclass info to a dict

    This handles the info more like it will be handled when we parse it
    directly from eclasses.

commit 0b11d51b266e6aae5787423b084c00dd0eafcd2c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 30 15:36:31 2012 -0700

    Use any() to optimize intersection operations.

commit b6fa4dbba0297226ade42ad86b8ca95a5764e34b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 30 13:25:08 2012 -0700

    _wildcard_set: specify allow_repo=False

    This make is behave as it did prior to the change in Atom constructor
    behavior in commit 587cce4816afc7d57b3edf0be6c0670ec0be89c9.

commit 587cce4816afc7d57b3edf0be6c0670ec0be89c9
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Wed May 30 02:40:15 2012 +0200

    portage.dep.Atom: Ignore allow_repo argument when non-None eapi is passed.
    Allow repository when allow_repo=False is not passed and eapi=None
    is passed.

commit da6d3bb8357445a228a797046eb0b76dbbbaada0
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed May 23 15:06:19 2012 -0400

    repoman: add a mini framework for checking eclasses, and fill it out

    Rather than copying & pasting the same behavior for the different eclass
    checks, add a common class for them to extend.  This makes adding more
    eclass checks trivial, and keeps down bitrot.

    This does abuse the checking interface slightly -- the eclass will change
    its category between unused and missing based on the checks.

    URL: https://bugs.gentoo.org/417159 URL: https://bugs.gentoo.org/417231
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a1578c654f26cab07309bc9cbddd3c95c0c205b5
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu May 24 00:05:30 2012 -0400

    repoman: unroll escaped lines so we can check the entirety of it

    Sometimes people wrap long lines in their ebuilds to make it easier
    to read, but this causes us issues when doing line-by-line checking.
    So automatically unroll those lines before passing the full content down
    to our checkers.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cd0285b567b307ae04435aa342f40714d2ed6ac3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 24 12:06:11 2012 -0700

    reconstruct_eclasses: unicode hashes for python2

commit d0ed9b0120792841dffd3d0ae7b3306e0f1d1583
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Wed May 23 23:48:16 2012 -0400

    repoman: tweak elif vcs check style to be consistent

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1b367f9121b7c9cdceab644539b329c501e539c2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 23 11:59:45 2012 -0700

    validate_entry: handle KeyError for bug #417253

    This error is triggered by corrupt cache entries.

commit 6dd44c1b5f13c3628bc2e093fdf4b1ade4028b63
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 16 17:22:18 2012 -0700

    Profile parent repo: references for bug #414961.

    If "profile-formats = portage-2" is specified in metadata/layout.conf, then
    paths such as 'gentoo:targets/desktop' or ':targets/desktop' in profile
    parent files can be used to express paths relative to the root 'profiles'
    directory of a repository. When the repo name is omitted before the colon,
    it refers to the current repository that the parent file is inside of.

commit 75d5e44211e997dbba91307f27c12f9c83579299
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 17 13:20:48 2012 -0700

    movefile: fix abs symlink adjustment, bug #416431

commit f2f4b2e3b6d7865ccef11a254055b5d213f4bac3
Author: László Szalma <dblaci@dblaci.hu>
Date:   Thu May 17 13:07:52 2012 -0700

    merge: fix abs symlink adjustment, bug #416431

commit 40160122bee77d1c34ed05157546c9d72eadd368
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 16 16:57:58 2012 -0700

    getconfig: only raise ParseError

commit f39ac7dc706544d1f36392c7def6da0b9b6bebcf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 16 13:47:26 2012 -0700

    RepoConfig: cleanup portage1_profiles code

commit 304dfb0fb09b799eec526d0703c44fc6a92ef13d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 16 13:02:47 2012 -0700

    FEATURES=config-protect-if-modified by default.

    The plan is to send out a GLEP 42 news item for this before it goes to
    stable, as discussed here:

    http://archives.gentoo.org/gentoo-dev/msg_7fe557809defad4faca2ee5c6e52d134.xml

commit 9ebe11e40796c8d000a50eac0d9bce1f630c5668
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 16 12:44:15 2012 -0700

    _eapi_invalid: elog permission issue, bug #416231

commit b73cac4bb004da49b8d2075f06529a8c4e5269db
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 15 21:54:58 2012 -0700

    config: fix /etc/portage/make.profile error msg

commit aa109884a0168656c3548cc90ca5a4854f3928c2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 15 17:06:38 2012 -0700

    getconfig: use shlex.error_leader() more

    This fixes it to show the correct file/line, even when one file sources
    another.

commit 999907a64249d9bfd2e42e477bfb9dd9a3cb535a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 16:56:20 2012 -0700

    bintree: validate remove cpv more

commit dd0d2264225c44503283bd1d144815167d245be6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 15:50:31 2012 -0700

    prepstrip: fix installsources breakage

    The debug.sources path changed in commit
    4941c3c674400116f118a9c75b520c3fd1a25490.

commit 9ed00a9e70a3705164a5349145ff467e5c40ddfd
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 15:38:00 2012 -0700

    prepstrip: fix hardlink race in process_elf

commit ad944275b88a50d2a1f694826b127cceb9221e78
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 13:53:36 2012 -0700

    prepstrip: fix hardlink handling for subshells

commit 4941c3c674400116f118a9c75b520c3fd1a25490
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 14 14:20:15 2012 -0400

    prepstrip: make splitdebug/installsources parallel safe

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1ebf126ae221bb8bd78df07a92fc4608b24f6689
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 14 14:19:25 2012 -0400

    prepstrip: tweak style and document helper funcs a bit

    Mostly make sure we be consistent with ${var} rather than $var.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 235c122ae35ebf965f2effd31a4b830195ceb0dd
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 14 13:35:46 2012 -0400

    prepstrip: run the log parsing in parallel to file stripping

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 22795b488b882aa423e6bc330a81820f41ec0eb9
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon May 14 13:35:29 2012 -0400

    multijob_post_fork: simpler handling of return value

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2ec3f2d22da444fc8c40370ed2be64d39db8c9e2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 11:48:41 2012 -0700

    depgraph: send output to stderr when appropriate

    This also removes the stderr -> stdout redirect from display_problems,
    since the app-portage/autounmask program is no longer supported, and
    that will fix bug #406867.

commit c534e32f78cf7c543e9203e7fe1c7b1630144ffb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 01:42:12 2012 -0700

    prepstrip: wait for Pre-stripped check to finish

commit b4fba3e9fa2e285244de491f57700978158c1838
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 01:29:40 2012 -0700

    prepstrip: disable parallel for splitdebug, etc..

commit 2adc44295a5b5c77640c32cd24ebbd8d52e5237b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 14 01:00:29 2012 -0700

    multijob_post_fork: return child status

commit 61b370bd3154250d600bef885073a6edb6fee2bb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 23:54:41 2012 -0700

    Atom: use a single _get_atom_re() call

commit 2dc778ce4b8590fb57dcc59508b3babda8513c87
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 23:28:41 2012 -0700

    BlockerCache: use _unicode() for pickled atoms

commit ab387fc38d867934c5d360fa0eb311c5bdbeb95c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 22:29:40 2012 -0700

    Split out _hide_url_passwd() and use it more.

commit 2c191d17c5c879c51aeb1c6043d9185b9a5887c0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 22:01:51 2012 -0700

    binhost: http auth for python3 (bug #413983)

    This uses the code from commit 58a8cd1bb943522bc53d02c008ee8eff798bfaaa
    as a fallback for python3 when the default urlopen function fails. This
    has been tested and is known to work with thttpd password authentication
    (it works unencrypted and also when encrypted with stunnel).

commit 28213c0fb01e4c0db62c7fd4d6ffcc1ff5383fa5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 20:29:07 2012 -0700

    getbinpkg: fix base64 usage for python3

commit a4e23d4b6c4631a8622e72b2c5ab903533615b6b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 20:18:08 2012 -0700

    tbz2.scan: use finally to close file

commit 58a8cd1bb943522bc53d02c008ee8eff798bfaaa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 18:53:50 2012 -0700

    Revert "Bug #413983: Add portage.util.urlopen(), which transparently
    handles authentication in the way compatible with Python 3."

    This reverts commit 0a9cc38a66ded0cf0e5b534cb24b970fc9c21920. As reported
    in bug #415579, that commit broke FTP authentication.

commit eb1f9aefed672307caa5fc1286f9a35bed3ea9f4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 18:23:53 2012 -0700

    glsa: use _pkg_str + vercmp, not pkgcmp

commit 2ff656151b9d7ff747660a7eed787f039cc35dfa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 18:02:11 2012 -0700

    _sets/security: use _pkg_str + vercmp, not pkgcmp

commit 741205453f86f64e5b7775250eb2ae650018f81b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 17:51:40 2012 -0700

    _sets/dbapi: use _pkg_str + vercmp, not pkgcmp

commit a1196c12131c43e8d09005f288bbd71d1df770e0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 17:46:44 2012 -0700

    portdbapi: don't convert _pkg_str to str

commit 640207f6083ffd3be9a3ad01ad85769974db7165
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 17:29:36 2012 -0700

    dblink: use _pkg_str + vercmp, not pkgcmp

commit d76df09c56687a58581dc279d4f6e37a95acfb9b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 17:08:17 2012 -0700

    dep_check: use _pkg_str + vercmp, not pkgcmp

commit 528990c3279dcb2b37062f447cfda80730ead6b7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 16:40:29 2012 -0700

    _pkg_str: validate repo (move code from Package)

commit a5152139f76cdf605a26aa286c8fa2383bef8738
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 15:35:16 2012 -0700

    unmerge: use cpv_sort_key instead of pkgcmp

commit ba307ef1dc5ed986fa79fe732cc8d66820a901ef
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 15:30:31 2012 -0700

    _pkg_str: make version -r0 consistent with input

commit 2209b21e0ee6c14f9293d589cf0ddba44ee816f4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 15:15:57 2012 -0700

    cpv_sort_key: use _pkg_str

commit 9007f3699d8ca63d800340e9c269b4d4233f4866
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 14:43:21 2012 -0700

    repoman: simplify ebuild sort code

commit 89b320a22b7e2504d00e18475e07e43ab56f2ad3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 14:42:08 2012 -0700

    egencache: use vercmp instead of pkgcmp

commit 0f8b7f25d2fc2b7e4571d2e739e80ec2538d3a3f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 13:36:59 2012 -0700

    best_match_to_list: use _pkg_str

commit af2d127f671280ac73e5a18a63bea8458c02ed94
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 13:21:55 2012 -0700

    match_from_list: avoid multiple meanings of mycpv

commit e8b6b0c64b081d919398a1afcb3cb97852c77a29
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 13:10:52 2012 -0700

    cpvequal: use _pkg_str

commit 603ef0a2301c1d4ca084b5a5a7be77ac83151a09
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 12:49:41 2012 -0700

    _pms_eapi_re: require whitespace before comment

    See discussion on gentoo-pms mailing list here:
    http://archives.gentoo.org/gentoo-pms/msg_1f76a55d04b4f2a3721cddc611434aad.xml

commit bb1ac9ea20233ba764e989d36c8e8ea1cfc34cb3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 02:31:15 2012 -0700

    match_from_list: preserve input in result

    This fixes an unintended change in behavior from commit
    f31320b67c9f593a2a8592e1a4e547f5f641943a.

commit 1564b9b0f549256fe0b8e552ae7bedd10754d61e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 02:05:14 2012 -0700

    Use _pkg_str.version more.

commit cc1527c20877364b654ece5bd1386add479c67d7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 01:44:07 2012 -0700

    Don't cache vercmp results.

    It's probably not very helpful to cache vercmp results, since identical
    version comparisons probably don't recur very often.

commit f31320b67c9f593a2a8592e1a4e547f5f641943a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 01:36:25 2012 -0700

    _pkg_str: add version attribute for comparisons

    This attribute can be passed directly into vercmp, avoiding the need to
    generate this string many times.

commit 0903cf2a1544d970b286a3e7e1f3276daa4eab9c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun May 13 00:32:04 2012 -0700

    depgraph: minimize match_from_list operations

    In _iter_match_pkgs, call match_from_list on one cpv at a time, in order
    to avoid unnecessary match_from_list comparisons on versions that are
    never yielded from this method.

commit d7525a7e433ee77f7c94ab468ff66af4f2913684
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 23:23:35 2012 -0700

    SimpleResolverTestCase: handle PYTHONHASHSEED

commit af50fee789e71c1fff0b405db4cf55b618b73466
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 18:07:29 2012 -0700

    _pkg_str: add slot and repo attributes

commit 895e2cda1b83d282131eb4b12278654cc6bca141
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 16:27:32 2012 -0700

    match_from_list: handle Package.UNKNOWN_REPO

commit 45de6e3dbea776bba5f9483a9f23fbcc5c2f6520
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 15:57:03 2012 -0700

    _pkg_str: add cpv attribute for match_from_list

commit d5bdc1574b7ac665900cb0769af31c38fa1621c0
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun May 13 00:30:46 2012 +0200

    Check type of xml.etree.ElementTree.TreeBuilder before applying workaround
    for http://bugs.python.org/issue14007.

commit 75ff9dea4e2bc141e53acaf7edb43f8b54fc56e5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 15:16:23 2012 -0700

    test_digraph: fix get_cycles for PYTHONHASHSEED

commit ae95697010a331a98fe112bdac565c3dcbcd3160
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 14:11:32 2012 -0700

    test_digraph: fix bfs for PYTHONHASHSEED=random

commit b4722008c1bf425a334c885be0a93535dcb88b36
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 12:27:17 2012 -0700

    test_stackLists: fix for PYTHONHASHSEED="random"

commit 0252e07f4ddf0dfe843d02160b3853696a02af32
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sat May 12 18:25:16 2012 +0200

    Add workaround for http://bugs.python.org/issue14007.

commit f75f2f3169a63e8b39cea1087e099e176d90e20e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 02:25:39 2012 -0700

    Add a _pkg_str class to cache catpkgsplit results

    This will compensate for the removal of the catpkgsplit cache in commit
    68888b0450b1967cb70673a5f06b04c167ef879c.

commit 68888b0450b1967cb70673a5f06b04c167ef879c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 12 00:36:15 2012 -0700

    catpkgsplit: don't cache results

    The cache has been subtly broken since commit
    eb2056631021a04b62c228206e44376f5c7a81ba when the eapi parameter was
    added. If necessary, we can add a cpv class (or something like that) in
    order to avoid redundant catpkgsplit calls in places like match_from_list.

commit 76939c46aa2817bdbcea703432c52e5aa04160f9
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Fri May 11 12:36:22 2012 -0400

    prepstrip/ecompressdir: parallelize operations

    Stealing some ideas from ferringb, add a new API for doing parallel
    processing in bash, and then deploy this with the stripping and
    compressing stages.

    For stripping coreutils which has about 100 ELFs, this brings time to
    strip down from ~7 seconds to ~0.7 seconds on my system.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0098ee7395e2c9b35471a5c088eef1fa59946912
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sat May 12 06:07:12 2012 +0200

    Add portage.eapi.eapi_allows_dots_in_use_flags().

commit eb2056631021a04b62c228206e44376f5c7a81ba
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sat May 12 05:58:38 2012 +0200

    Allow dots in package names in EAPI="4-python".

commit 5b6f367ee9c163c46810012c43f9b12b6794496c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 18:34:36 2012 -0700

    Fix handling of empty PORTDIR{,_OVERLAY} setting.

commit 22996b1d7c7214da8f0bff76d9f814a00f58fdce
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 16:39:06 2012 -0700

    Cleanup profile-formats code.

commit 4cdf0ecb9d54300e92912f4e409f9de1fd208e71
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 16:28:05 2012 -0700

    RepoConfig: sort __slots__

commit 912c564620f59d6e8d0752121c931095ba832ef2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 16:17:32 2012 -0700

    Avoid redundant layout.conf parsing.

    By passing the RepoConfigLoader instance into LocationsManager, we can
    re-use previously parsed layout.conf data. The RepoConfigLoader instance
    will also be useful for bug #414961.

commit c3a4dd7d026bd00eb80bd50178288083175a0d9e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 15:53:50 2012 -0700

    config: load repositories before profile

    This is useful for bug #414961, since we want to have access to the
    repositories when we're loading the profile.

commit 95054d7ff5c2491ae1f9159ca973b71f99bfd297
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 14:49:29 2012 -0700

    config: propagate SYNC to self.repositories

    This resolves a circular dependency on the SYNC variable, which is useful
    for bug #414961, since we want to be able to initialize self.repositories
    before the SYNC variable is known.

commit d31e55509111490d44de60c579e12473ad52a447
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri May 11 14:04:15 2012 -0700

    config: use shlex to split known_repos

commit 5228eb4ce60765cd421a5e363e51a71626739267
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 10 23:32:26 2012 -0700

    PollScheduler: use local EventLoop (thread safe)

    For API consumers, this makes the doebuild() function compatible with
    threads, avoiding a ValueError raised by the signal module, as reported
    at http://bugs.sabayon.org/show_bug.cgi?id=3305. Classes derived from
    PollScheduler still use the signal module when possible.

commit b6ef0aedb1b1b7c6fd4ab2d8d38369724ec6c383
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu May 10 14:23:56 2012 -0700

    Don't write or trust cache for unsupported EAPIs.

    Since we're supposed to be able to efficiently obtain the EAPI from
    _parse_eapi_ebuild_head, we don't need to write or trust cache entries
    for unsupported EAPIs.

commit 933ab0862f7333f0a4d1cc7ac85dea9f2693097c
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Thu May 10 21:54:25 2012 +0200

    Make REPOSITORY variable again available in global scope of ebuilds,
    which use EAPI="4-python".  This fixes regression introduced in commit
    1c26d24dfc869a6f5ef426f7c02e1d25abcda34e.

commit b59bd3348d709aa53c6883006313bdbdc9c737ea
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 15:28:54 2012 -0700

    porttree.py: remove unused imports

commit ac77fac359701c4f3a24c8e546f7a4d90adbd6d8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 15:23:24 2012 -0700

    Refer to bug #402167 where appropriate.

commit 1c26d24dfc869a6f5ef426f7c02e1d25abcda34e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 15:08:08 2012 -0700

    doebuild_environment: clean up EAPI related code

commit caceafbca156fdd1e5cc64d1e24a6bdc39022945
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 13:31:52 2012 -0700

    EbuildMetadataPhase: handle empty EAPI from bash

commit 5958b9d406134a139cd66025eaf7bd650fb32b24
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 13:00:32 2012 -0700

    Split out eapi_invalid function.

commit 052cc1c657833fadb27c70889749547e1188103a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 11:21:15 2012 -0700

    ebuild.sh: remove redundant EAPI=0 default

commit 92b45cbc29b3375a96c404f3ff46bcf389e85943
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 11:10:56 2012 -0700

    Show unsatisfied REQUIRED_USE for bug #415125.

commit 4fef960c0b3681ea5389e3a639ab1e30115c2021
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 9 01:12:58 2012 -0700

    doebuild_environment: remove unused eapi parsing

commit 20817801dd4ef0117bcc7b33c90650da1e920385
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 8 23:38:47 2012 -0700

    Parse EAPI with pattern from PMS section 7.3.1.

    This implements the specification that was approved in Gentoo's council
    meeting on May 8, 2012 (see bug #402167). The parse-eapi-ebuild-head
    FEATURES setting is now enabled by default, and causes non-conformant
    ebuilds to be treated as invalid. This behavior will soon become enabled
    unconditionally.

commit 476f99337da69662660bfe2a0406b9ac5b4678c4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 8 17:45:53 2012 -0700

    die: fix ${T}/build.log{,.gz} message

commit ed38cf680d220ca43f9396c1c986071ca5933bec
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 8 09:38:44 2012 -0700

    make.conf.5: COLLISION_IGNORE s/shell/fnmatch/

commit 1987449799fe12c1066f2f46c75c4da99bc3405e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 8 08:42:12 2012 -0700

    Strip EPREFIX in RESTRICT=binchecks QA Notice.

commit a0eb86870f1564b84f0b561013d8e597347727e4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 8 00:39:36 2012 -0700

    NEEDED.ELF.2: include sonames from $ORIGIN

    This reverts the behavior change from bug #205531 (see commit
    5baa57a65368472c2c22b9bd2b30e634ef644b92). That special handling
    should be unnecessary since the changes from bug #289180 (see
    commit 296fc63fee262600811520fccf4692f47a39ffba), where the
    LinkageMapELF.findConsumers() exclude_providers argument is used to
    exclude irrelevant consumers.

commit bc18e1e7c3af475412e997489058c58942ebfdcb
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon May 7 23:23:40 2012 -0700

    COLLISION_IGNORE: support fnmatch patterns

    This allows it to be combined with the COLLISION_IGNORE_UNOWNED variable
    from commit 33545ea18e8816addb3c54bb26a0cc788b8512e6, so only one variable
    is needed.

commit d448e1f1844fe1fe8b865f8f9080206b84c6f4e3
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 5 09:54:14 2012 -0700

    COLLISION_IGNORE: handle prefix

commit e9adbc89be9ea37fef0a16978d643078703e0f06
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 5 09:37:51 2012 -0700

    COLLISION_IGNORE_UNOWNED: tweak default *.py[co]

commit e3d3ff4f22f5e41f12b2518d23ebea354a006b7b
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sat May 5 18:00:57 2012 +0200

    Enable globstar shell option by default in EAPI="4-python".

commit 72314d2e24aa96af614b052b8b29e6d02d37a641
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 5 00:32:34 2012 -0700

    QA Notice for RESTRICT=binchecks + ELF files

commit 61571e4e8ee3f4f999782c542b4be84d8be8c729
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat May 5 00:16:41 2012 -0700

    Create NEEDED.ELF.2 despite RESTRICT=binchecks.

    This info is too useful not to have (it's required for things
    like preserve-libs), and it's tempting for ebuild authors to set
    RESTRICT=binchecks for packages containing pre-built binaries.

commit 33545ea18e8816addb3c54bb26a0cc788b8512e6
Author: Krzysztof Pawlik <nelchael@gentoo.org>
Date:   Fri May 4 23:47:27 2012 -0700

    Support COLLISION_IGNORE_UNOWNED="*.pyc *.pyo"

    This will fix bug #410691.

commit e9ba65f66dbc59b89d6133b8a909f58fa41bf760
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 2 18:32:33 2012 -0700

    composite_db._visible: fix AttributeError

commit 15b98eb570a734c9505cb3b82674e7dc36c90b56
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed May 2 12:55:31 2012 -0700

    dispatch-conf: use shlex to parse diff command

commit 09bdb69ac31146cbb3f258118a1aea0744b96379
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 1 14:21:44 2012 -0700

    validate_desktop_entry: handle Python 3.1

commit 0a9cc38a66ded0cf0e5b534cb24b970fc9c21920
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Tue May 1 21:51:16 2012 +0200

    Bug #413983: Add portage.util.urlopen(), which transparently handles
    authentication in the way compatible with Python 3.

commit 721b4b7d8a9f6cca32d946dd416d221cbc3088b2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue May 1 06:10:42 2012 -0700

    Quote atoms in die message for bug #414201.

    This allows zsh users to copy/paste while avoiding = expansion.

commit aa63202838c5346692b49ae26fff16b6977fb56c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Apr 30 19:26:52 2012 -0700

    repoman: ignore false Service desktop entry error

    This will fix bug #414125.

commit 39a26141b40486108be9d147a228708da797a0e4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Apr 30 12:17:06 2012 -0700

    repoman: check LIVEVCS.stable for gentoo only

    This will fix bug #414123.

commit 7bf14ebd3feb75c368f32e06e1ac34e9ccbd35ed
Author: James Le Cuirot <chewi@aura-online.co.uk>
Date:   Sat Apr 28 17:33:07 2012 +0100

    ebuild.sh: source /etc/portage/env scripts after /etc/portage/bashrc

    This will fix bug #413895.

commit fb9453f7466b7843c2ef6805bbeb9375de93c8ef
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Apr 25 09:37:48 2012 -0700

    LocationsManager: empty profiles_complex on error

    This prevents an IndexError in code which assumes that profiles and
    profiles_complex are the same length.

commit a8889947c45a9fa81ca006b333466372b64f0344
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Apr 23 13:15:56 2012 -0700

    repoman: fix portage.internal false positives

commit c31e5b74437b499b8361fb867e118e500c0c8d91
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 16:01:07 2012 -0700

    EapiDefinition: handle impossible "%d" % None

commit 9ccefaf0cd5987eadebac66e4c15464b65795cda
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 15:11:16 2012 -0700

    doebuild: cleanup tempfile if package phase fails

commit bb4113adef8e412c7dfa934cbaf0123f08a071e1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 14:58:55 2012 -0700

    portageq: use return instead of sys.exit

commit 43a15b85b5e719b5cb4f49f9f7210fc5129a9d87
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 14:41:03 2012 -0700

    dep.__init__: move writemsg import to top

commit 7c46fe043747de8663908a07f09edb9f184244e7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 14:10:07 2012 -0700

    repoman: cleanup code for KEYWORDS.invalid

commit e4ac7ed0d47b68b95da7854881a29e40d77f6e2f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 13:34:18 2012 -0700

    fakedbapi.cp_list: remove obsolete virtual code

    This should have been included in commit
    d30db49bcaecbdeb20f6d4e180979b60b6260f69.

commit 771b63d4d6d4b1d4c8f987fddb8b6cc91a4a7fac
Author: Arfrever Frehtes Taifersar Arahesis <Arfrever@Apache.Org>
Date:   Sun Apr 22 21:49:49 2012 +0200

    Print working directory in die message to simplify debugging.

commit dd0976cc34dda2759348e64ffb668fc4821fe86d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 12:13:58 2012 -0700

    portdbapi: update comment about repoman caches

commit d30db49bcaecbdeb20f6d4e180979b60b6260f69
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 11:57:25 2012 -0700

    dbapi.cp_list: remove special case for virtuals

    Since commit d603f1440c814377fbc1965729fd9b6b008cf76d, the match caches
    use the result from dep_expand for the cache_key, so the caches are free
    of old-style virtual mappings. This allows the match caches to be safely
    shared with cp_list.

commit b93b24f9fa1b2761aa0768274bd93ade9b526961
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 10:56:01 2012 -0700

    Add ${T}/build.log symlink to PORT_LOGDIR.

    This will fix bug #412865. This makes it easier on people who `emerge
    foo`, do stuff, `emerge foo`, do stuff, etc... to have the same path to
    the log in between runs.

commit e706a3dbc922130fe52a6513e9b91af7afc843aa
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 22 10:41:04 2012 -0700

    repoman: support * and ~* keywords

    These special keywords are used by Funtoo, and have been supported in
    KeywordsManager since commit 9144faeb653b9f1dbe74c69f85cd48f26761aa2f.

commit d603f1440c814377fbc1965729fd9b6b008cf76d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 20 23:38:17 2012 -0700

    dbapi: account for unevaluated_atom in caches

    This will fix bug 412391. This is analogous to the bug fixed in commit
    5438bb29c996d777b6343515995176912a7c137f.

commit 92a8357ca98d4a42e7747abd2cf4b390381fc6bc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 20 18:01:30 2012 -0700

    Show config updates later for bug #412845.

commit 5bd8b8a41326d16d4e8347bcddfee0d4ff8f6bd3
Author: Greg Turner <gmturner007@ameritech.net>
Date:   Tue Apr 17 18:48:32 2012 -0700

    mergeme: cleanup hardlink_candidates, bug #412453

commit b61f053253076873e7c181e4cfad2038aa6f7283
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Apr 16 00:15:56 2012 -0700

    Avoid redundant news display for bug #412161.

commit db49b97f8d9d855482ecdc9a5760d3d620948d1d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 15 15:21:49 2012 -0700

    repoman: update EAPI.definition check for PMS

    The plan is to update PMS section 8.3.1 as discussed here:

    http://archives.gentoo.org/gentoo-pms/msg_ef7635aa655913f2386e64e385f5a6ae.xml

commit 4fd43df42a9705bdb7681f4d67fb49b8da24a5d9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 13 19:47:13 2012 -0700

    Handle SystemError when importing xml libraries.

commit ef19d0fba35b1fff37257b70b3bd7c77b0b4e845
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 13 17:56:24 2012 -0700

    perform_all: fix TypeError for bug #411897

commit 361ea15f5da672bc0aec9d0b7bd7244591a286e2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 13 17:37:34 2012 -0700

    dohtml: support FEATURES=force-prefix

commit 0bb454d0aecba0be1dd197038eefc4be6be2580e
Author: Zdenek Behan <rain@matfyz.cz>
Date:   Fri Apr 13 14:51:46 2012 -0700

    portageq mass_best_visible: optional "type" arg

commit 54597d1ce55bd3d67c22a1cc5c7e915a02406477
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 13 12:30:40 2012 -0700

    EbuildBinpkg: remove temp file on failure

commit f82c3cfe4dccc0eea332e8d4f3c64509b0840f56
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Apr 13 11:27:44 2012 -0700

    ebuild.5: use example.com for bug #411835

commit d782a16187d821e7ce83f33f1b661fb9f66ee8bf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Apr 11 09:55:22 2012 -0700

    phases.docbook: add phases for new EAPIs

commit f241cdb50b0f8a448216a1e5155dba8d0abddf56
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Apr 5 14:37:35 2012 -0700

    depgraph._complete_graph: fix for --root-deps

commit 16b378f99938e1940fe2d6e2a898632189374a62
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Apr 5 12:54:28 2012 -0700

    config: populate expand map with profile.env

    This behavior got disabled by commit
    ed8a457e265ea1c23b66aeb12d00f1abd3d79e60, and now it's restored.

commit eba99d86fe3bf43488c5df09419218d4b2941e90
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Apr 5 12:37:40 2012 -0700

    Limit long slot conflict loop for bug #410801.

commit 001b0184cf72159a7d3c57501eb685205481ad3f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Apr 5 11:52:51 2012 -0700

    Scheduler: optimize action_uninstall

commit e9740bcd93e01633695dee32425d1bab38e607c7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Apr 5 11:22:49 2012 -0700

    depgraph._validate_blockers: optimize --root-deps

commit a9de7a29a25c876caab34b288cf87629514c7ac2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Apr 5 11:08:52 2012 -0700

    depgraph._load_vdb: optimize --root-deps

commit 42694ba42b4d265a07e91bc0aef98dbfa7ad2c4f
Author: Sven Vermeulen <swift@gentoo.org>
Date:   Thu Apr 5 09:40:55 2012 -0700

    Support /sys/fs/selinux/context for bug #410687.

commit 784c94ac3520a1fe0659be53fab07becaad6274b
Author: Boris Minev <borisminev@abv.bg>
Date:   Tue Apr 3 10:56:48 2012 -0700

    unmerge: display progress counter, bug #386901

commit c521bc87db7daf70a6c00272c6c7440059135b58
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Apr 3 09:06:38 2012 -0700

    test_getconfig: add case for bug #410625

commit 318893ddf8cdcf778e7ba6a49f3ad062af19bdf9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Apr 3 08:38:13 2012 -0700

    _check_temp_dir: explicitly close temp file

commit ed8a457e265ea1c23b66aeb12d00f1abd3d79e60
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Apr 2 23:52:09 2012 -0700

    Don't use varexpand for profile.env, bug #410625.

commit 5aec6753e2a0cfd7992c41ceaadf2c42fce715ac
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 1 10:15:57 2012 -0700

    repoman: only assume cvs preserves mtimes

commit 87a330b69d7c617e0a14f3aaa028e697b67a7fff
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 1 09:48:38 2012 -0700

    repoman: disable header/timestamp check for svn

commit dbb74f7abe050252655b7b4a0c4517e747ac7c08
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Apr 1 09:38:27 2012 -0700

    dispatch_conf: don't pass bytes for Popen cmd

    This will fix bug #410417.

commit fba4880f560a03e52857af53c722b6b2138da732
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 31 16:19:04 2012 -0700

    varexpand: optimize access to current char

commit 7342ef701af9eae725d89b784410884560793519
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 31 14:17:23 2012 -0700

    getconfig: show error message for varexpand fail

commit ebb542165883468ebf31341e150cdbebcd7439a4
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 31 13:27:11 2012 -0700

    varexpand: use frozenset for word characters

commit 7490a70d40ed47e064a08f10b2319a4b8c9180d9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 31 12:48:44 2012 -0700

    varexpand: use list for efficient append

commit 3f7a3b294dd38c6009d41ce7f40075e2e2645c6e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 31 10:22:13 2012 -0700

    dispatch_conf: emulate getstatusoutput with Popen

    This will fix bug #410315.

commit 5dbea626d2305625b1562eebfde4fe7b4ee601d9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 29 17:17:06 2012 -0700

    portage.5: note more bashrc caveats, bug #409627

commit ec974a0d7637fff2dc2d57917f6dbb5c348c5e7d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 29 15:25:23 2012 -0700

    fowners: return success for prefix if EUID != 0

    This is based on a patch by Jeremy Olexa from bug #409893.

commit 3ff6c0d01a074169b8afeddc668191541f5e4330
Author: Jeremy Olexa <darkside@gentoo.org>
Date:   Thu Mar 29 15:02:56 2012 -0700

    dosym: add $EPREFIX to absolute target

commit b8a5d5d288b6d4138ee81f4c24692bdcb5c2c189
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Mar 27 16:38:18 2012 -0400

    xpak: clean up style

    A few spaces here and there go a long way to making this readable.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1f3d3626d0fb716f1566b0cafab738a8008d3881
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 18:49:59 2012 -0700

    varexpand: don't cache results

    Caching wasn't really necessary here, and it didn't properly account
    for input differences in the 'mydict' parameter.

commit 0fc7ed733f41e71a0a7fb6e886f6e6a8ec5056cc
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 17:35:59 2012 -0700

    locks.py: fix _close_fds docstring

commit f7a7a30ee44ced6628163bf33b52b30467d28246
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 17:26:17 2012 -0700

    LockNonblockTestCase: close_fds tweak

    Make consistent with commit 144c23efbb4e9565debad03c13c5bcab833a8336.

commit ea26df1ef9b3dcb7a6a45b487342cc7149a77be5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 11:56:32 2012 -0700

    emerge: suggest dispatch-conf for bug #398843

commit 144c23efbb4e9565debad03c13c5bcab833a8336
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 11:28:12 2012 -0700

    Close fewer file descriptors for fork / no exec.

    This will fix bug #374335.

commit b344222a9a4dfbd811e196bd755ccbec511d0721
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 10:35:44 2012 -0700

    etc-update: handle emacs diff cmd, bug #409849

commit aefd607374b0c631bc3b9a962e0a5c55a2f5e6d2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 10:06:05 2012 -0700

    etc-update: remove duplicate using_editor

commit 35d5ae5cc3989be7fb9823848cb021974fc7b8d1
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 09:28:01 2012 -0700

    movefile: use writemsg for unicode safety

commit b2147b15e11b3d30d646098696ef69d749aeb5b2
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 08:52:35 2012 -0700

    Replace @returns with @return.

commit ae8070542fcee0516fbfa270f6ef3f3e53a8d220
Author: Greg Turner <gmturner007@ameritech.net>
Date:   Tue Mar 27 08:40:18 2012 -0700

    grabdict: remove incorrect docstring, bug #409839

commit c00f2636efb087f844c23e1196da825bf172c9ff
Author: Greg Turner <gmturner007@ameritech.net>
Date:   Tue Mar 27 08:32:56 2012 -0700

    Localize config update messages, bug #409835.

commit 8c1ba902154aee09b1c240d5a7a541dcafb46e6c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Tue Mar 27 07:39:57 2012 -0700

    emerge-webrsync: use portageq from same prefix

commit 4e2abb474f0fc624c51948f0939e3123f6382992
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 25 20:49:47 2012 -0700

    unmerge: fix return code for bug #409647

commit ac13a18708d6223accb85d12ba895bc121df89c6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 25 16:20:19 2012 -0700

    Exit status 128 + SIGINT for --ask 'no' answer.

    This will fix bug #409647.

commit 42ae47a871f674027147d3885a466c0a0effd998
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 25 14:48:25 2012 -0700

    emerge --sync: use yellow for portage update msg

commit 31e50edfea40c432fde6957eba4bf3013ef321a0
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Mar 23 12:57:47 2012 -0700

    movefile: import print_function

    This fixes printing of tuples under python-2.x, as shown in bug #402323.

commit c33fe80a46e7ba5046c14c5fae8e6fbb8934cac5
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Mar 23 11:22:23 2012 -0700

    movefile: clarify message for xattr copy error

    This will fix bug #402323.

commit 6d2be766e6056e266522c9e39d663d7c0ac42e0d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Mar 23 11:05:36 2012 -0700

    movefile: refactor selinux conditional code

commit 7c58705c30fed6b11f978c4880225ced8a45c70d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Mar 23 10:28:21 2012 -0700

    Clarify symlink/dir collision for bug #409359.

commit 67b8da916f1b4a601d09c3f867c005b39a04f28e
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 22 22:37:39 2012 -0700

    repoman: disable dependency.unknown for blockers

    This will fix bug #382407.

commit fcf73104165536c0789b9e1306a43fca95a0fe43
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 22 18:38:14 2012 -0700

    mtimedb: fix hexversion for python issue 5729

commit 7c4c48d9a4344a6f1c9859ae178ed78408ba2777
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 22 14:36:36 2012 -0700

    mtimedb: enable JSON write support

    JSON read support has been available since portage-2.1.10.49.

commit fffa9fcef6b65f4c299f393d49396e275d78245b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 22 12:00:39 2012 -0700

    emerge --changelog: show some log entries above

    This will fix bug #373009.

commit 3a5f7f4993134022c094cb9247f9486061732b99
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 22 10:15:10 2012 -0700

    emerge --changelog: fix split ChangeLog bugs

    This should fix possible missing content when displaying split ChangeLogs
    (bug #389611), and also normalizes blank lines.

commit 0b4cf4cc31684bd1800fd1588f7114d8fe45d137
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 22 08:23:51 2012 -0700

    PreservedLibsRegistry: try to parse as JSON first

commit 716b1864e03212b09f94ddf3573fbfa451473558
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Mar 21 14:24:15 2012 -0700

    PreservedLibsRegistry: enable JSON write support

    JSON read support has been available since portage-2.2.0_alpha89.

commit cf7bf7667a56a28a6c6f360bc77a01d05d64bdd8
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Mar 21 12:25:55 2012 -0700

    getmaskingreason: use remember_source_file

    This will fix bug #409179.

commit 1ac859dfea03701f02dcd25ba3b91fb17cf520cf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Mar 21 00:40:21 2012 -0700

    Bug #361759: QA check for /etc/udev/rules.d

commit 500e0567432019835ef56e69d60266f9189c6700
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Mar 21 00:16:54 2012 -0700

    Map emerge --buildpkg=n to FEATURES=-buildpkg.

    This will fix bug #409085.

commit 4b183c1d9f7431e984dfe3f1ab93e3df15e9f31b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Mar 19 11:33:28 2012 -0700

    doebuild_environment: comment on bug #408817

commit 982c0075fc974bf19394ed94f6151b671ddd8767
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Mar 19 11:12:32 2012 -0700

    spawn_nofetch: clone locked config, bug #408817

    It's unsafe to pass in an unlocked config instance, since that can trigger
    issues like bug #408817 due to fragile assumptions involving the config
    state inside doebuild_environment().

commit a2b5e7cff4e0cee92491c750179520a6fb30b14d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Mar 19 10:06:41 2012 -0700

    Revert "depgraph: reset pkgsettings after setcpv"

    This reverts commit 884993c7f4b9e7e9ede690f5fab81742915fc942.
    Calling reset is expensive and is not really needed since commit
    3ca5f0cc08d233a3e229e78b573c7aab7d46cb9c.

commit 3ca5f0cc08d233a3e229e78b573c7aab7d46cb9c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Mar 19 10:00:38 2012 -0700

    doebuild_environment: sanity check for bug 408817

    Ensure that CATEGORY is determined correctly, and raise AssertionError
    if it can't be determined.

commit 884993c7f4b9e7e9ede690f5fab81742915fc942
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Mar 19 09:29:29 2012 -0700

    depgraph: reset pkgsettings after setcpv

    This should prevent doebuild_environment from incorrectly using the
    CATEGORY from the previous setcpv call, as reported in bug #408817.

commit aa7a0a91390accd84c04302e1e738f945aee333a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 18 15:39:40 2012 -0700

    unmerge: remove unused preserve-libs

    This fixes a case were one or more packages are unmerged without being
    replaced, and some preserved libraries need to be removed because they
    all consumers have just been unmerged.

commit f1fb411525e7429e4f361ad3d352a9154c0e44b6
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 18 10:07:09 2012 -0700

    dispatch_conf: fix broken diffstatusoutput_len

commit e2d957d83109c678bce388b2f553fa2403711724
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 16:28:54 2012 -0700

    etc-update: quote ${file}

commit e769fdbec25f2e77953619bc131f15518a33ad1a
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 15:56:33 2012 -0700

    etc-update: ignore non-existent CONFIG_PROTECT

commit 5a12bcd48f209002c654d72fe3ad7c000ff5eddf
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 15:11:47 2012 -0700

    Omit EPREFIX from paths in unicode QA Notice.

commit 141408ea103bb3217a9204577a26d4c0724401ad
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 14:56:37 2012 -0700

    Use eqawarn for install of non UTF-8 file names.

    This will fix bug #406749.

commit cc2c9e5a50abd63f42aca05f1ace0b2af07e982f
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 14:31:55 2012 -0700

    repoman: add --digest=<y|n> option, bug #406875

commit 237427dbf5eadf1e7b7bf2962b2ccbb352e527ab
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 12:48:30 2012 -0700

    repoman: ignore temp files, bug #406877

    If the file isn't in the VCS new or changed set, then assume
    that it's an irrelevant temporary file. This relies on commit
    2dac56fa282645031eb29860abc403e983a04b2d to guarantee that Manifest
    entries are not generated for file names containing prohibited characters.

commit 2dac56fa282645031eb29860abc403e983a04b2d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 17 09:44:03 2012 -0700

    Manifest: filter file names with repoman's regex

    This makes Manifest generation consistent with repoman, which is necessary
    if repoman is going to ignore irrelevant files as requested in bug #406877.

commit ea755bfec221290cb1f3b09aae3a885996146458
Author: Zac Medico <zmedico@gentoo.org>
Date:   Fri Mar 16 17:08:59 2012 -0700

    Add a Makefile derived from the portage ebuild.

    This will fix bug #335320.

commit 970ab392337a0584c9a329c55c58e3b930ae4af1
Author: Martin von Gagern <Martin.vGagern@gmx.net>
Date:   Tue Mar 13 10:15:26 2012 -0700

    Display: spawn pkg_nofetch when appropriate

    Signed-off-by: Zac Medico <zmedico@gentoo.org>

commit 9ab1fa8bc9e3b93170b56ec99b29dde6d1f0cd53
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 12 01:29:32 2012 -0400

    QA: detect pkg-config files that bleed LDFLAGS

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 647bc427421ef6ad03f8ec2d4a2aad6b6b6c4925
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Mar 12 00:40:12 2012 -0400

    etc-update: ignore changes in whitespace (-b) for automerge

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6e4f1bd23cbb3332fa1d4f1e570420b743e01296
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 10 23:15:31 2012 -0500

    portageq: add "colormap" helper

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e9bb70344f93509e34ef117e14420a60fef5b83e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sun Mar 11 15:39:50 2012 -0400

    etc-update: fix logic bug with protected files

    The rewrite introduced a slight bug with protected files.  Fix that,
    and rework the code slightly to make it obvious that we want a diff set
    of options for files and dirs.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 157c9c0de811b64326ebf09cc95a59b34cbc0547
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 10 22:57:43 2012 -0500

    etc-update: handle symlinked files

    If the config file is symlinked somewhere, then update the target rather
    then discarding the symlink and replacing it with a real file.

    URL: http://bugs.gentoo.org/330221 Reported-by: Jack Byer
    <ftn768@gmail.com> Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a78ec9a7e6b4a0dd6e565913db35e436f67553ff
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 10 22:23:25 2012 -0500

    etc-update: fix default "enter" behavior

    Adding support for -[3579] command line flags inadvertently broke the
    default behavior of hitting "enter" to automatically select the next file.
    Make this work again.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2b3f235988b45c3c11d57fedad12587b1536fdac
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 10 21:54:59 2012 -0500

    etc-update: add a --preen flag

    Add a flag to merge just trivial updates and then quit.

    URL: http://bugs.gentoo.org/159080 Reported-by: Iván Pérez
    Domínguez <iperez@babel.ls.fi.upm.es> Signed-off-by: Mike Frysinger
    <vapier@gentoo.org>

commit 188aedeb2822f5c86a0586fd3350800565da5c6c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Sat Mar 10 21:43:30 2012 -0500

    etc-update: support scan paths on the command line

    URL: http://bugs.gentoo.org/59235 Reported-by: Cory Visi
    <merlin@gentoo.org> Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3467a10ba5eb37f67899e772c2951992dc28f46c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Mar 8 16:47:16 2012 -0500

    dispatch-conf: do regex matching ourselves

    This avoids having to pipe through multiple greps, as well as running
    diff multiple times on the same set of files.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 20403c15331c63f5bbdc6dabbd8c9b3ad291aaca
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sat Mar 10 07:22:46 2012 -0800

    ebuild.sh: skip EBUILD_HOOK_DIR for depend phase

commit c0177a6e01e0919164f373c3cc130a265e8cf27c
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 8 22:35:43 2012 -0800

    install-info: avoid unnecessary shell

commit badeb48eae2a1d429902f654c2de60d67283ded7
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 8 21:08:40 2012 -0800

    Exit after killed while waiting on prefetch.

commit f1475a5cb14539fc412d8fca393b7473399d9a5b
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 8 18:54:02 2012 -0800

    Use Popen to avoid unnecessary shell.

commit 6486c0957cb54adf8ec45fb07d62750b77680632
Author: Zac Medico <zmedico@gentoo.org>
Date:   Thu Mar 8 15:55:39 2012 -0800

    Disable 'illegally inherited' check for nofetch.

    It's disabled for nofetch, since that can be called by repoman and that
    triggers bug #407449 due to repoman not exporting non-essential variables
    such as INHERITED.

commit aec36182da4f1f0e754cc53ab9f8dd08c0ff9a28
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Mar 8 15:19:55 2012 -0500

    dispatch-conf: add --help/--version flags

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6be090fb118e17348751d2eb15f8a3407c2fa6aa
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Mar 8 15:13:05 2012 -0500

    etc-update(1): flesh out a bit more

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0788886b0e001fcf57d4c1bddded1d809b5d9d31
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Mar 8 13:45:29 2012 -0500

    etc-update: turn -[3579] flags into command line option

    This lets people do `etc-update --automode -3` rather than having to do
    something like `echo "-3" | etc-update`.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2bf62e023956a4ed1adf67d18152aa82b7aa7356
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Thu Mar 8 00:11:56 2012 -0500

    etc-update: rewrite significantly

    This tool is very inefficient, especially in the case of auto-merging with
    -3/-5 and such.  Rewrite the code to kill off dead paths, compress multiple
    greps into a single sed, cache more calculated results, and use bash
    code where possible rather than execing external tools.  There are also
    style updates here, many of which fix quoting issues and other such things.

    The next rewrite should probably be in python, but this version is fast
    enough for me now even on my slow machines.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3596fc3822bb82dfe05a58fdb78220e399175a4d
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Mar 5 01:55:39 2012 -0800

    whirlpool.py: fix WhirlpoolAdd for bug #406407

    This file is a python port of Whirlpool.c the reference implementation:

      http://www.larc.usp.br/~pbarreto/whirlpool.zip

    Comparison of both implementations reveals a difference in loop logic
    at the very beginning of the WhirlpoolAdd function, which is fixed now.

commit 32d19be14e22ada479963ba8627452f5f2d89b94
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 4 23:30:28 2012 -0800

    pruneNonExisting: handle eselect-opengl symlinks

    Only count symlinks as preserved if they still point to a hardink
    in the same directory, in order to handle cases where a tool such
    as eselect-opengl has updated the symlink to point to a hardlink in a
    different directory (see bug #406837). The unused hardlink is automatically
    found by _find_unused_preserved_libs, since the soname symlink no longer
    points to it. After the hardlink is removed by _remove_preserved_libs,
    it calls pruneNonExisting which eliminates the irrelevant symlink from
    the registry here.

commit 43593de8225589fcd5c0d07ce70f45dfbe11bba9
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 4 16:48:41 2012 -0800

    repoman: say Git >=1.7.9 needed for signed commit

commit 6cd05a95afe799807c90e71d577fb87b1bd01093
Author: Zac Medico <zmedico@gentoo.org>
Date:   Sun Mar 4 16:01:29 2012 -0800

    repoman: support overlays without repo_name

commit e1abe799a73594f35a2088a923a8b4ce7e4cdb07
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Feb 29 07:49:25 2012 -0800

    action_build: return 1 for "no" --ask answer

commit ef4fc7d5347e96e085c11d8843cceae1f433fe24
Author: Zac Medico <zmedico@gentoo.org>
Date:   Mon Feb 27 20:57:35 2012 -0800

    cvstree.getentries: handle "ignored" files in cvs

    It's possible for files to be under version control even though they
    match our ignore filter, so don't ignore them if they are listed in the
    "Entries" file. Thanks to Mike Gilbert <floppym@gentoo.org> for reporting
    in this blog post:

    http://floppym.blogspot.com/2012/02/cvs-status-display-cvs-checkout-in-svn.html

commit b684a8d3a73da02423d090c58c0f1536c25b093b
Author: Sebastian Luther <SebastianLuther@gmx.de>
Date:   Sun Feb 26 10:34:31 2012 +0100

    autounmask: Avoid unmasking live versions if possible

    Before this patch the allowed changes were:

    1. USE 2. USE + ~arch + license 3. USE + ~arch + license + missing
    keywords + masks

    With this patch:

    1. USE 2. USE + ~arch + license 3. USE + ~arch + license + missing
    keywords 4. USE + ~arch + license + masks 5. USE + ~arch + license +
    missing keywords + masks

    This avoids unmasking live versions, which are typically masked and
    have missing keywords to be avoided if there is a regular masked version
    available.

commit c9a0df701f983b41fd0f1aac7bb4536f771846cb
Author: Sebastian Luther <SebastianLuther@gmx.de>
Date:   Sun Feb 26 09:49:13 2012 +0100

    Reorganize how autounmask allows changes to be made

    This patch does not change emerge's behaviour.

commit 0279590c2351cf4e757e15bbbfc5546205e16533
Author: Sebastian Luther <SebastianLuther@gmx.de>
Date:   Fri Feb 24 22:13:52 2012 +0100

    autounmask: Fix USE change messages to display the correct parent

    Fixes bug 399863.

commit 411a8461d08b88c5636e900d6297c2b4873af549
Author: Zac Medico <zmedico@gentoo.org>
Date:   Wed Feb 22 21:30:19 2012 -0800

    Unmerge orphan directory symlinks for bug 384397.
